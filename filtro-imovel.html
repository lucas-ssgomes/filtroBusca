<!DOCTYPE html>
<html lang="br" class="no-js">
<!-- BEGIN HEAD -->

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="Cache-Control" content="no-cache, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="You Digital Ltda." name="author" />

    <title>SMART IMOBILIÁRIO
        - IMOBILIARIA YOU DIGITAL - SMART - IMÓVEIS - PESQUISA DE IMÓVEIS</title>
    <meta content="SMART IMOBILIÁRIO | Gestão Inteligente de Imóveis" name="description" />

    <meta name="MobileOptimized" content="320">
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="https://app.smart.youdigital.com.br/assets/plugins/font-awesome/css/font-awesome.min.css"
        rel="stylesheet" type="text/css" />
    <link href="https://app.smart.youdigital.com.br/assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet"
        type="text/css" />
    <!--<link href="https://app.smart.youdigital.com.br/assets/plugins/bootstrap/css/bootstrap-maxpro.min.css" rel="stylesheet" type="text/css"/>-->
    <!--<link href="https://app.smart.youdigital.com.br/assets/plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css"/>-->
    <!-- END GLOBAL MANDATORY STYLES -->
    <!-- BEGIN PAGE LEVEL PLUGIN STYLES -->
    <link rel="stylesheet" type="text/css"
        href="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-fileupload/bootstrap-fileupload.css" />
    <link rel="stylesheet" type="text/css"
        href="https://app.smart.youdigital.com.br/assets/plugins/gritter/css/jquery.gritter.css" />
    <link rel="stylesheet" type="text/css"
        href="https://app.smart.youdigital.com.br/assets/plugins/select2/select2_metro.css" />
    <link rel="stylesheet" type="text/css"
        href="https://app.smart.youdigital.com.br/assets/plugins/clockface/css/clockface.css" />
    <!--<link rel="stylesheet" type="text/css" href="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-wysihtml5/bootstrap-wysihtml5.css" />-->
    <link rel="stylesheet" type="text/css"
        href="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-datepicker/css/datepicker.css" />
    <link rel="stylesheet" type="text/css"
        href="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-timepicker/compiled/timepicker.css" />
    <link rel="stylesheet" type="text/css"
        href="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-colorpicker/css/colorpicker.css" />
    <link rel="stylesheet" type="text/css"
        href="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-daterangepicker/daterangepicker-bs3.css" />
    <link rel="stylesheet" type="text/css"
        href="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-datetimepicker/css/datetimepicker.css" />
    <link rel="stylesheet" type="text/css"
        href="https://app.smart.youdigital.com.br/assets/plugins/jquery-multi-select/css/multi-select.css" />
    <link rel="stylesheet" type="text/css"
        href="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-switch/static/stylesheets/bootstrap-switch-metro.css" />
    <link rel="stylesheet" type="text/css"
        href="https://app.smart.youdigital.com.br/assets/plugins/jquery-tags-input/jquery.tagsinput.css" />
    <link rel="stylesheet" type="text/css"
        href="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-markdown/css/bootstrap-markdown.min.css">
    <!-- END PAGE LEVEL PLUGIN STYLES -->
    <!-- BEGIN THEME STYLES -->
    <link href="https://app.smart.youdigital.com.br/assets/css/style-metronic.css" rel="stylesheet" type="text/css" />

    <link href="https://app.smart.youdigital.com.br/assets/css/style-smart.css" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="https://app.smart.youdigital.com.br/assets/favicon-empreendimento.ico" />


    <link href="https://app.smart.youdigital.com.br/assets/css/style-responsive.css" rel="stylesheet" type="text/css" />
    <link href="https://app.smart.youdigital.com.br/assets/css/plugins.css" rel="stylesheet" type="text/css" />
    <link href="https://app.smart.youdigital.com.br/assets/css/pages/tasks.css" rel="stylesheet" type="text/css" />
    <link href="https://app.smart.youdigital.com.br/assets/css/pages/search.css" rel="stylesheet" type="text/css" />

    <link href="https://app.smart.youdigital.com.br/assets/css/custom.css" rel="stylesheet" type="text/css" />

    <link href="https://app.smart.youdigital.com.br/assets/css/themes/light_smart.css" rel="stylesheet" type="text/css"
        id="style_color" />

    <!-- END THEME STYLES -->
    <link href="https://app.smart.youdigital.com.br/assets/plugins/jquery-ui/jquery-ui-1.10.3.custom.min.css"
        rel="stylesheet" type="text/css">
    <style>
        #launcher {
            display: none;
        }
    </style>
    <link href="https://app.smart.youdigital.com.br/assets/plugins/uniform/css/uniform.default.css" rel="stylesheet"
        type="text/css" />
</head>
<style>
    .div-status-data-atds-unificados .foto img {
        max-height: 145px;
    }

    #formBuscarImoveis {
        padding: 10px;
        margin-left: 35px;
        margin-right: 35px;
    }

    .page-content .page-breadcrumb.breadcrumb>li>a,
    .page-content .page-breadcrumb.breadcrumb>li>i,
    .page-content .page-breadcrumb.breadcrumb>li>span {
        font-size: 20px;
    }

    .form-body {
        margin-left: 35px;
        margin-right: 35px;
    }

    #neutro {
        color: #495057;
    }

    @media(max-width: 480px) {
        .page-content .page-breadcrumb.breadcrumb.breadcrumb-imoveis-total {
            min-height: 65px;
            margin-top: -23px !important;
        }

        .breadcrumb-imoveis-total li:first-child {
            width: 100% !important;
        }

        #btn-filtro-busca-imovel {
            width: 45px !important;
            top: -22px !important;
        }

        #btn-filtro-busca-imovel #iFilterAtivar {
            padding-right: 5px !important;
        }

        #btn-filtro-busca-imovel #iFilterAtivado {
            font-size: 8px !important;
        }

        #page-content #page-breadcrumb.breadcrumb>li>a,
        #page-content #page-breadcrumb.breadcrumb>li>i,
        #page-content #page-breadcrumb.breadcrumb>li>span {
            font-size: 15px;
        }

    }
</style>
<!-- END HEAD -->
<!-- BEGIN BODY -->

<body class="page-header-fixed page-sidebar-fixed ">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MNC9GFH" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="preload">
        <div>
            <div id="cell">
                <div>
                    <img src="//app.smart.youdigital.com.brhttps://app.smart.youdigital.com.br/assets/img/ajax-modal-loading.gif"
                        alt="carregando..." title="carregando..." />
                </div>
                <div id="txt">CARREGANDO ...</div>
            </div>
        </div>
    </div>

    <div id="preloadRelatorio">
        <div>
            <div id="cell">
                <div>
                    <img src="//app.smart.youdigital.com.brhttps://app.smart.youdigital.com.br/assets/img/ajax-modal-loading.gif"
                        alt="carregando..." title="carregando..." />
                </div>
                <div id="txt">
                    Aguarde. Estamos gerando o relatório.
                    <br />
                    Esta operação poderá demorar alguns minutos.
                </div>
            </div>
        </div>
    </div>

    <div class="header navbar navbar-inverse navbar-fixed-top">
        <div class="header-inner">
            <a class="navbar-brand ativarPreload" href="//app.smart.youdigital.com.br/inicio/dashboard">
                <img id="logo-normal"
                    src="//app.smart.youdigital.com.brhttps://app.smart.youdigital.com.br/assets/img/logo/smart.png"
                    alt="logo" class="img-responsive" />
            </a>

            <!-- BEGIN RESPONSIVE MENU TOGGLER -->
            <a href="javascript:;" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <i class="fa fa-align-justify"></i>
            </a>
            <!-- END RESPONSIVE MENU TOGGLER -->

            <!-- BEGIN TOP NAVIGATION MENU -->
            <ul class="nav navbar-nav pull-right">

                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                        data-close-others="true">
                        <i class="fa fa-plus"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-header">



                        <li>
                            <a class="ativarPreload" href="/cliente/novoNegocio?captacao=0">
                                <i class="fa fa-comments-o"></i>
                                <span title="Cadastrar Vendas/Locações">Vendas/Locações</span>
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="/cliente/novoNegocio?captacao=1">
                                <i class="fa fa-comments-o"></i>
                                <span title="Cadastrar Captações">Captações</span>
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="/imovel/captacaoImovel">
                                <i class="fa fa-home"></i>
                                <span title="Cadastrar Imóvel">Imóvel</span>
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="/empreendimento/cadastroEmpreendimento">
                                <i class="fa fa-building"></i>
                                <span title="Cadastrar Empreendimento">Empreendimento</span>
                            </a>
                        </li>

                    </ul>
                </li>


                <li class="dropdown" id="header_inbox_bar">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                        data-close-others="true">
                        <i class="fa fa-search"></i>
                    </a>
                    <ul class="dropdown-menu extended inbox" style="width: 170px !important;">
                        <li>
                            <a class="ativarPreload" href="////app.smart.youdigital.com.br/inicio/listarNegociosVenda">
                                <i class="fa fa-comments-o"></i>
                                <span title="Vendas/Locações">Vendas/Locações</span>
                            </a>
                        </li>
                        <li>
                            <a class="ativarPreload"
                                href="////app.smart.youdigital.com.br/inicio/listarNegociosCaptacao">
                                <i class="fa fa-comments-o"></i>
                                <span title="Captações">Captações</span>
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="/imovel/buscarImoveis">
                                <i class="fa fa-home"></i>
                                <span title="Buscar Imóveis">Imóveis</span>
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="/empreendimento/listagemEmpreendimentos">
                                <i class="fa fa-building"></i>
                                <span title="Buscar Empreendimentos">Empreendimentos</span>
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="/empresa/parceirosComerciais">
                                <i class="fa fa-group"></i>
                                <span title="Buscar Parcerias">Parcerias</span>
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="/empresa/pesquisaUsuario">
                                <i class="fa fa-user"></i>
                                <span title="Buscar Corretores">Corretores</span>
                            </a>
                        </li>

                    </ul>
                </li>

                <li class="dropdown dropdown-feeds" id="header_inbox_bar">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                        data-close-others="true">
                        <i class="fa fa-bullhorn"></i>
                        <span id="spanTotalFeedNaoLido" class="badge badge-danger"></span>
                    </a>
                    <ul class="dropdown-menu extended inbox feeds notification"></ul>
                </li>

                <li class="dropdown " id="header_task_bar">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                        data-close-others="true">
                        <i class="fa fa-tasks"></i>

                        <span id="badgeTotalAtividades" class="badge bg-red">15</span>

                    </a>
                    <ul class="dropdown-menu extended tasks">
                        <li>
                            <h6 class="base-color-2" style="text-align: center;"><b>Alertas de Atividade</b></h6>
                        </li>
                        <li class="external">


                            <a class="ativarPreload" href="/atendimento/atividadesAtrasadas" style="font-size: 12px;">
                                <span id="spanTotalAtividadesAtrasadas">
                                    Você tem <span style="font-weight: bold; color: #e02222;">15</span> negócio(s) com
                                    atividade atrasada <i class="m-icon-swapright pull-right"></i>
                                </span>
                            </a>

                        </li>
                        <li class="external">

                            <a href="javascript:void(0);" style="font-size: 12px;">
                                <span id="spanTotalAtividadesHoje">
                                    Nenhum negócio com atividade para hoje
                                </span>
                            </a>

                        </li>
                        <li class="external">

                            <a href="javascript:void(0);" style="font-size: 12px;">
                                <span id="spanTotalAtividadesAgendadas">
                                    Nenhum negócio com atividade agendada
                                </span>
                            </a>

                        </li>
                    </ul>
                </li>

                <!-- BEGIN USER LOGIN DROPDOWN -->
                <li class="dropdown user">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                        data-close-others="true">
                        <span class="username" action="/imoveis/listagem">SMART</span>
                        <i class="fa fa-angle-down"></i>
                    </a>
                    <ul class="dropdown-menu">

                        <li>
                            <a class="ativarPreload" href="/usuario/perfil">
                                <i class="fa fa-user"></i> Perfil
                            </a>
                        </li>

                        <li><a class="ativarPreload" href="/empresa/meuPlano"><i class="fa fa-edit"></i> Meu Plano</a>
                        </li>

                        <li><a class="ativarPreload" href="/plano/faturas"><i class="fa fa-barcode"></i> Faturas</a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="/empresa/pBuscarOcorrencias">
                                <i class="fa fa-files-o" style="position: relative; left: 0; top: -2px;"></i>
                                <i class="fa fa-eye"
                                    style="font-size: 13px; position: relative; left: -32px; top: 3px;"></i>
                                <span style="position: relative; left: -29px;">Ocorrências</span>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li><a href="/usuario/logout"><i class="fa fa-sign-out"></i> Sair</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <div class="clearfix"></div>
    <!-- BEGIN CONTAINER -->
    <div class="page-container">

        <div class="page-sidebar navbar-collapse collapse">
            <ul class="page-sidebar-menu">
                <li>
                    <div class="sidebar-toggler hidden-phone"></div>
                </li>

                <li class="start">
                    <a class="ativarPreload" href="//app.smart.youdigital.com.br/inicio/dashboard">
                        <i class="fa fa-bar-chart-o"></i>
                        <span class="title">Dashboard</span>
                        <span class="selected"></span>
                    </a>
                </li>

                <li>
                    <a href="javascript:;">
                        <i class="fa fa-comments-o"></i>
                        <span class="title">Negócios</span>

                        <span class="arrow"></span>

                        <span id="badgeMenuNegocio" class="badge badge-danger">
                            40
                        </span>

                    </a>
                    <ul class="sub-menu">

                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/inicio/listarNegociosVenda">
                                Vendas/Locações
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/inicio/listarNegociosCaptacao">
                                Captações
                            </a>
                        </li>


                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/cliente/listagemClientes">
                                Clientes
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/atendimento/buscaAtendimento">
                                Movimentação
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/atendimento/telefonista">
                                Telefonista
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/atendimento/importacoes">
                                Importação
                            </a>
                        </li>

                    </ul>
                </li>


                <!--INICIO MENU IMOBILIÁRIAS-->

                <li>
                    <a class="ativarPreload" href="//app.smart.youdigital.com.br/empresa/parceirosComerciais">
                        <i class="fa fa-group"></i>
                        <span class="title">Parcerias</span>
                        <span class="selected"></span>
                        <span id="badgeMenuParceiro"></span>
                    </a>
                </li>

                <!-- VERIFICAR OS NIVEIS DE ACESSO CORRETOS PARA CADA AÇÃO -->

                <li class="active">
                    <a class="ativarPreload" href="//app.smart.youdigital.com.br/imovel/buscarImoveis">
                        <i class="fa fa-home"></i>
                        <span class="title">Imóveis</span>
                        <span class="selected"></span>
                    </a>
                </li>

                <li>
                    <a class="ativarPreload"
                        href="//app.smart.youdigital.com.br/empreendimento/listagemEmpreendimentos">
                        <i class="fa fa-building"></i>
                        <span class="title">Empreendimentos</span>
                        <span class="selected"></span>
                    </a>
                </li>

                <li>
                    <a href="javascript:;">
                        <i class="fa fa-globe"></i>
                        <span class="title">
                            SMART Sites
                        </span>

                        <span class="arrow"></span>

                    </a>
                    <ul class="sub-menu">
                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/empresa/pConfigurarSite">
                                Configurar Site
                            </a>
                        </li>
                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/empresa/pIntegrarSite">
                                API SMART Site
                            </a>
                        </li>
                    </ul>
                </li>

                <li>
                    <a href="javascript:;">
                        <i class="fa fa-exchange"></i>
                        <span class="title">Anúncios</span>

                        <span class="arrow"></span>

                    </a>
                    <ul class="sub-menu">

                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/exposync/atualizacaoRedes">
                                Integrações
                            </a>
                        </li>

                    </ul>
                </li>

                <li>
                    <a href="javascript:;">
                        <i class="fa fa-table"></i>
                        <span class="title">Relatórios</span>

                        <span class="arrow"></span>

                    </a>
                    <ul class="sub-menu">

                        <li>
                            <a class="ativarPreload"
                                href="//app.smart.youdigital.com.br/atendimento/paginaGraficoAtendimentoOrigem">
                                Atendimento pela Origem
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload"
                                href="//app.smart.youdigital.com.br/atendimento/paginaGraficoAtendimentoUsuario">
                                Atendimento por Usuário
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/cliente/listagemClientes">
                                <!--<a class="ativarPreload" href="//app.smart.youdigital.com.br/cliente/buscaCliente">-->
                                Cliente
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/imovel/buscaImovel">
                                Imóvel
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/atendimento/buscaAtendimento">
                                Movimentação Atendimento
                            </a>
                        </li>
                    </ul>
                </li>

                <li>
                    <a class="ativarPreload" href="//app.smart.youdigital.com.br/documento/carregarDocumentos">
                        <i class="fa fa-file-text"></i>
                        <span class="title">Documentos</span>
                        <span class="selected"></span>
                    </a>
                </li>

                <li>
                    <a href="javascript:;">
                        <i class="fa fa-cogs"></i>
                        <span class="title">Configurações</span>
                        <span class="arrow"></span>
                    </a>
                    <ul class="sub-menu">

                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/empresa/configuracoesEmpresa">
                                Empresa
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/empresa/configuracoesSistema">
                                Sistema
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/empresa/configuracoesRepasse">
                                Repasses
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/empresa/buscarUsuarios">
                                Usuários
                            </a>
                        </li>

                        <li>
                            <a class="ativarPreload"
                                href="//app.smart.youdigital.com.br/empresa/cadastroOrigemAtendimento">
                                Origens e Mídias
                            </a>
                        </li>

                        <!-- 
                            <li  >
                                <a class="ativarPreload" href="//app.smart.youdigital.com.br/atendimento/importacoes">
                                    Importação
                                </a>
                            </li>
                         -->
                    </ul>
                </li>

                <li class="">
                    <a href="javascript:;">
                        <i class="fa fa-shopping-cart"></i>
                        <span class="title">Planos</span>
                        <span class="arrow"></span>
                    </a>
                    <ul class="sub-menu">

                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/empresa/meuPlano">
                                Meu Plano
                            </a>
                        </li>
                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/plano/listar">
                                Planos e Preços
                            </a>
                        </li>
                        <li>
                            <a class="ativarPreload" href="//app.smart.youdigital.com.br/plano/faturas">
                                Faturas
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="last ">
                    <a href="javascript:;">
                        <i class="fa fa-question"></i>
                        <span class="title">Precisa de Ajuda?</span>
                        <span class="arrow"></span>
                    </a>
                    <ul class="sub-menu">
                        <li>
                            <a href="javascript: enviarWhatsapp('5581984219885','');">
                                <span style="background-position-y: 0; margin-bottom: -4px; background-size: 14px;"
                                    class="icone-whatsapp-verde"></span>&nbsp;&nbsp;Whatsapp
                            </a>
                        </li>
                        <li>
                            <a target="_blank"
                                href="https://smartimobiliario.wordpress.com/category/guias-de-uso-e-manuais/">
                                Guias e Manuais
                            </a>
                        </li>
                        <li>
                            <a target="_blank"
                                href="https://smartimobiliario.wordpress.com/category/notas-de-atualizacao/">
                                Notas de Atualização
                            </a>
                        </li>
                    </ul>
                </li>


            </ul>
            <!-- END SIDEBAR MENU -->
        </div>
        <!-- END SIDEBAR -->


        <!-- BEGIN PAGE -->
        <div class="page-content">
            <!-- BEGIN PAGE HEADER-->
            <div class="row" style="padding-left: 5px;">
                <div class="col-md-12">
                    <!-- BEGIN PAGE TITLE & BREADCRUMB-->

                    <head>
                        <style>
                            #btn-filtro-busca-imovel {
                                min-height: 34px;
                                color: #2c2c2c;
                                border-color: #e8e3e3 !important;
                                background-color: #f0f0f0 !important;
                                left: 3px !important;
                            }

                            .radio-inline {
                                font-size: 10px;
                                margin-left: 0 !important;
                                padding-left: 0 !important;
                                margin-right: 0 !important;
                            }

                            a.disabled {
                                pointer-events: none;
                                cursor: default;
                            }
                        </style>
                    </head>
                    <form id="formBuscarImoveis" action="/imovel/buscarImoveis" method="POST" class="form-horizontal">
                        <div class="row">
                            <div class="col-md-12" style="float: right;"></div>
                            <ul style="float: right;">
                                <div class="form-group row col-md-12"></div>

                                <button type="submit" class="btn btn-success ativarPreload">
                                    <i class="fa fa-search" aria-hidden="true"></i>
                                </button>

                        </div>
                        </ul>

                        <!-- BEGIN PAGE TITLE & BREADCRUMB-->
                        <ul class="page-breadcrumb breadcrumb  breadcrumb-negative-45" style="padding-left: 0;">
                            <li>
                                <i class="fa fa-home"></i>
                                <a class="red disabled" style="text-transform: capitalize;">Imóveis</a>
                            </li>
                        </ul>
                        <!-- END PAGE TITLE & BREADCRUMB-->
                </div>

                <div id="filtro-imovel-geral">
                    <div class="form-body">
                        <div class="row">
                            <div class="col-md-3 col-xs-12">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <span style="font-size: 14px; color:#2f343b; margin-bottom: 2px;">Base de Imóveis</span>
                                        <select id="filtroRedeImobiliaria" name="filtro.redeImobiliariaBusca"
                                            class="form-control">
                                            <option value="-1">Imobiliária</option>
                                            <option value="-2">Construtoras</option>
                                            <option value="-3">Imobiliárias e Corretores</option>
                                            <optgroup label="Redes">
                                                <option value="3">Ademi Imóveis</option>

                                            </optgroup>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-3 col-xs-12">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <span style="font-size: 14px; color:#2f343b; margin-bottom: 2px;">Código do Imóvel</span>
                                        <div class="row">
                                            <label class="checkbox labelExternal" style="padding-right: 15px;">
                                                <input name="filtro.codigo" value="" type="text" class="form-control"
                                                    placeholder="Ex: AP69">
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-3 col-xs-12">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <span style="font-size: 14px; color:#2f343b; margin-bottom: 2px;">Imóveis</span>
                                        <select name="filtro.tipoImovel" class="form-control">
                                            <option value="" id="neutro" style="color:#495057;">Todos</option>
                                            <option value="1">Apartamento</option>
                                            <option value="2">Casa</option>
                                            <option value="8">Flat / Studio</option>
                                            <option value="5">Galpão / Prédio Comercial</option>
                                            <option value="9">Hotel / Pousada</option>
                                            <option value="3">Loja</option>
                                            <option value="10">Restaurante / Lanchonete</option>
                                            <option value="7">Rural</option>
                                            <option value="6">Sala Comercial</option>
                                            <option value="4">Terreno / Loteamento</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-3 col-xs-12">
                                <div class="form-group">
                                    <div class="row">
                                        <label class="checkbox labelExternal col-md-12 col-xs-12"
                                            style="margin-bottom: 10px;">
                                            <div class="col-md-12">
                                                <select id="filtroStatusImovel" name="filtro.statusImovelSmart"
                                                    class="form-control">
                                                    <option value="TODOS">Status</option>
                                                    <option selected value="">Disponíveis</option>
                                                    <option value="V" style="color: rgb(74, 135, 74);">Disp. Venda</option>
                                                    <option value="L" style="color: rgb(74, 135, 74);">Disp. Locação</option>
                                                    <option value="E" style="color: rgb(41, 41, 140);">Proces. Venda</option>
                                                    <option value="O" style="color: rgb(41, 41, 140);">Proces. Locação</option>
                                                    <option value="I" style="color: #FCA522;">Vendido
                                                    </option>
                                                    <option value="A" style="color: #FCA522;">Locado
                                                    </option>
                                                    <option value="Z" style="color: rgb(240, 38, 38);">Desatualizado
                                                    </option>
                                                    <option value="D" style="color: rgb(197, 6, 6);">Desativado
                                                    </option>
                                                    <option value="C" style="color: rgb(174, 14, 14);">Em Captação
                                                    </option>
                                                    <option value="R" style="color: rgb(141, 3, 3)(226, 44, 44);">Excluido</option>
                                                </select>
                                            </div>
                                        </label>
                                        <div id="divNovosUsuados" class="col-md-12">
                                            <label class="checkbox labelCodigo col-md-6 col-sm-6 col-xs-6">
                                                <input checked="checked" name="filtro.novos" type="checkbox"
                                                    id="ckNovos" value="true" style="margin-top: 0;">
                                                <span style="margin-left: 5px; font-size: 13px;">Novos</span>
                                            </label>
                                            <label class="checkbox labelCodigo col-md-6 col-sm-6 col-xs-6">
                                                <input checked="checked" name="filtro.usados" type="checkbox"
                                                    id="ckUsados" value="true" style="margin-top: 0;">
                                                <span style="margin-left: 5px; font-size: 13px;">Usados</span>
                                            </label>
                                        </div>
                                        <div id="divTemporada" class="col-md-12">
                                            <label class="checkbox labelCodigo col-md-12 col-sm-12 col-xs-12">
                                                <input name="filtro.temporada" type="checkbox" id="ckTemporada"
                                                    value="true" style="margin-top: 0;" />
                                                <span style="margin-left: 5px; font-size: 13px;">Temporada</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group row">
                            <div class="col-md-3 col-xs-12">
                                <div class="row">
                                    <ul style="font-size: 14px;">Faixa de Preço</ul>
                                    <div class="col-md-6 col-sm-6 col-xs-6">
                                        <input name="filtro.precoMinimo" value="" type="text" class="form-control preco"
                                            placeholder="Mín." />
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-xs-6">
                                        <input name="filtro.precoMaximo" value="" type="text" class="form-control preco"
                                            placeholder="Máx." />
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-3 col-xs-12">
                                <div class="row">
                                    <span style="font-size: 14px;">Taxa condomínio</span>
                                    <div class="col-md-6 col-sm-6 col-xs-6">
                                        <input name="filtro.condMinimo" value="" type="text" class="form-control preco"
                                            placeholder="Mín." />
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-xs-6">
                                        <input name="filtro.condMaximo" value="" type="text" class="form-control preco"
                                            placeholder="Max." />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 col-xs-12">

                                <div class="row">
                                    <span style="font-size: 14px;">Quartos</span>
                                    <div class="col-md-6 col-sm-6 col-xs-6">
                                        <select name="filtro.quartosMinimo" class="form-control">
                                            <option value=""></option>

                                            <option value="1">1</option>

                                            <option value="2">2</option>

                                            <option value="3">3</option>

                                            <option value="4">4</option>

                                            <option value="5">5+</option>
                               
                                        </select>
                                    </div>
                                    
                                </div>
                            </div>

                            <div class="col-md-3 col-xs-12">
                                <div class="row">
                                    <div class="col-md-6 col-sm-6 col-xs-6">
                                        <span style="font-size: 14px; color:#2f343b; margin-bottom: 2px;">Banheiro</span>
                                        <select name="filtro.suitesMinimo" class="form-control">
                                            <option value="">Todos</option>

                                            <option value="1">1</option>

                                            <option value="2">2</option>

                                            <option value="3">3</option>

                                            <option value="4">4</option>

                                            <option value="5">5+</option>
                                    </div>
                                    
                                </div>
                            </div>
                        </div>

                        <div class="row">

                            <div class="col-md-3 col-xs-12">
                                <div class="row">
                                    <span style="font-size: 14px; color:#2f343b; margin-bottom: 2px;">Área²</span>
                                    <div class="col-md-6 col-sm-6 col-xs-6">
                                        <input name="filtro.areaPrivativaMinimo" type="text" class="form-control area"
                                            placeholder="Min." />
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-xs-6">
                                        <input name="filtro.areaPrivativaMaximo" type="text" class="form-control area"
                                            placeholder="Max." />
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="row">
                                    <div class="col-md-6 col-sm-6 col-xs-6">
                                        <span style="font-size: 14px; color:#2f343b; margin-bottom: 2px;">Garagem</span>
                                        <select name="filtro.garagensMinimo" class="form-control">
                                            <option value="">Todos</option>

                                            <option value="0">0</option>

                                            <option value="1">1</option>

                                            <option value="2">2</option>

                                            <option value="3">3</option>

                                            <option value="4">4</option>

                                            <option value="5">5+</option>                               
                                    </div>
                                   
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="row">
                                    <span style="font-size: 14px; color:#2f343b; margin-bottom: 2px;">Tipo de Contrato</span>
                                    <div class="col-md-12">
                                    
                                        <select id="filtroPortais" name="filtro.tipoContrato" class="form-control">
                                            <option value=""></option>

                                            <option value="A">Avulso</option>

                                            <option value="AZ">Autorizado</option>

                                            <option value="O">Exclusividade</option>

                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="row">
                                    <div class="col-md-12 col-xs-12">
                                        <div class="form-group" style="margin-bottom: 0px !important;">
                                            <div class="col-md-12">
                                                <span style="font-size: 14px; color:#2f343b; margin-bottom: 2px;">Anúncios</span>
                                                <select id="filtroPortais" name="filtro.portalImobiliariaBusca"
                                                    class="form-control">
                                                    <option value=""></option>
                                                    <option value="-1">Site da RE/MAX Brasil
                                                    </option>
                                                    <option value="0">expoimovel.com</option>

                                                    <option value="39">Casa Mineira</option>

                                                    <option value="22">Chave Fácil</option>

                                                    <option value="25">Classificados JC</option>

                                                    <option value="50">DFimoveis</option>

                                                    <option value="31">DREAMCASA</option>

                                                    <option value="37">Grupo ZAP</option>

                                                    <option value="27">ImovelWeb</option>

                                                    <option value="16">Lugar Certo</option>

                                                    <option value="30">Mercado Livre</option>

                                                    <option value="38">Moving Imóveis</option>

                                                    <option value="20">OLX</option>

                                                    <option value="35">Portal CRECI</option>

                                                    <option value="44">SMART XML</option>

                                                    <option value="29">Tribuna do Norte</option>

                                                    <option value="18">Viva Real Portal Imobiliário</option>

                                                    <option value="23">ZAP Imóveis</option>

                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 col-xs-12">
                                        <div class="form-group" style="margin-bottom: 0px !important;">
                                            <div class="col-md-12">
                                                <div id="divRedeMarcadaDesmarcada" class="container col-md-12 esconder">
                                                    <div class="radio-list" style="text-align: center;">
                                                        <label class="radio-inline">
                                                            <input id="rdbMarcado" name="filtro.isRedeMarcada"
                                                                type="radio" checked="checked"
                                                                class="form-control radioMarcadoDesmarcado"
                                                                value="MARCADO" /> Publicado
                                                        </label>
                                                        <label class="radio-inline">
                                                            <input id="rdbDesmarcado" name="filtro.isRedeMarcada"
                                                                type="radio" class="form-control radioMarcadoDesmarcado"
                                                                value="DESMARCADO" /> Não Publicado
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 col-xs-12">
                                        <div class="form-group" style="margin-bottom: 10px !important;">
                                            <div class="col-md-12">
                                                <div class="row">
                                                    <!--<div id="divSelectTipoAnuncio" class="container esconder" style="margin-top: 5px;"></div>-->
                                                        <select id="selectTipoAnuncio" name="filtro.tipoAnuncio" class="form-control" 
                                                                style="padding-left: 0px; padding-right: 0px;">
                                                            
                                                            <option value="">-- Tipo de Anúncio --</option>
                                                            
                                                            
                                                                
                                                                
                                                                    <option value="0"  >Simples</option>
                                                                    <option value="1"  >Destaque</option>
                                                                    <option value="2"  >Super Destaque</option>
                                                                
                                                            
                                                        </select>
                                                    </div>
                                                </div>    
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="filtro-imovel-avancado" hidden>
                    <div class="form-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <select name="filtro.idEstado" id="estados" class="form-control">
                                            <option value="">-- Selecione o Estado --</option>

                                            <option value="21">Acre</option>

                                            <option value="8">Alagoas</option>

                                            <option value="22">Amapá</option>

                                            <option value="4">Amazonas</option>

                                            <option value="13">Bahia</option>

                                            <option value="14">Ceará</option>

                                            <option value="27">Distrito Federal</option>

                                            <option value="9">Espírito Santo</option>

                                            <option value="46">Flórida</option>

                                            <option value="18">Goiás</option>

                                            <option value="47">Lisboa</option>

                                            <option value="15">Maranhão</option>

                                            <option value="19">Mato Grosso</option>

                                            <option value="20">Mato Grosso do Sul</option>

                                            <option value="10">Minas Gerais</option>

                                            <option value="11">Paraná</option>

                                            <option value="5">Paraíba</option>

                                            <option value="23">Pará</option>

                                            <option value="1">Pernambuco</option>

                                            <option value="16">Piauí</option>

                                            <option value="2">Rio Grande Do Sul</option>

                                            <option value="6">Rio Grande do Norte</option>

                                            <option value="7">Rio de Janeiro</option>

                                            <option value="24">Rondônia</option>

                                            <option value="25">Roraima</option>

                                            <option value="12">Santa Catarina</option>

                                            <option value="17">Sergipe</option>

                                            <option value="3">São Paulo</option>

                                            <option value="26">Tocantins</option>

                                            <option value="48"></option>

                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <select name="filtro.idCidade" id="cidades" class="form-control">
                                            <option value="">-- Selecione a Cidade --</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <div class="col-md-5 col-xs-12 bairros-left">
                                        <select id="bairros" multiple="" class="form-control"></select>
                                    </div>
                                    <div class="col-md-2 col-xs-12 bairros">
                                        <i class="fa fa-exchange" style="margin-left: 43%; color: grey;"></i>
                                    </div>
                                    <div class="col-md-5 col-xs-12 bairros-right">
                                        <select id="bairrosSelecionados" name="filtro.idBairros" multiple=""
                                            class="form-control">

                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">

                            <div class="col-md-4 col-xs-12">
                                <div class="form-group">
                                    <div class="col-md-12">




                                        <select name="filtro.codigoCorretor" class="form-control">


                                            <option value="">-- Captador --</option>


                                            <option value="3225">chico</option>



                                            <option value="7754">ESTUARIOTI</option>



                                            <option value="10720">Gabriel Cocoricó</option>



                                            <option value="4529">LEONARDO F DE ANDRADE</option>



                                            <option value="3905">SAND COUTINHO</option>



                                            <option value="1">SMART</option>



                                            <option value="7930">TESTE YOUDIGITAL</option>



                                            <option value="11761">Test Cad User</option>





                                        </select>


                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <div class="form-group">
                                    <div class="col-md-12">


                                        <input name="filtro.nomeProprietario" value="" type="text" class="form-control"
                                            placeholder="Nome do Proprietário" autocomplete="no">



                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <input name="filtro.construtora" value="" type="text" class="form-control"
                                            placeholder="Código ou Nome da Construtora" />
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="row">
                            <div class="col-md-4 col-xs-12">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <select name="filtro.estagioObra" class="form-control">
                                            <option value="">-- Estágio da Obra --</option>
                                            <option value="1">Planta</option>
                                            <option value="2">Fundação</option>
                                            <option value="3">Estrutura</option>
                                            <option value="4">Estrutura Concluída</option>
                                            <option value="5">Fase de Acabamento</option>
                                            <option value="6">Pronto</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <select name="filtro.situacaoEmpreendimento" class="form-control">
                                            <option value="">-- Situação do Empreendimento --</option>
                                            <option value="0">Pré-lançamento</option>
                                            <option value="1">Lançamento</option>
                                            <option value="2">Unidade Disponíveis</option>
                                            <option value="3">Totalmente Vendido</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <select name="filtro.temFoto" class="form-control">
                                            <option value="">-- Com ou Sem Fotos --</option>
                                            <option value="s">Apenas Com Fotos</option>
                                            <option value="n">Apenas Sem Fotos</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group row">
                            <div class="col-md-4">
                                <div class="row">
                                    <label class="col-md-12 col-xs-12" style="font-size: 13px;">
                                        <i class="fa fa-calendar"></i> Cadastro
                                    </label>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 data col-xs-6">
                                        <input class="form-control date-timepicker" type="text" placeholder="De"
                                            size="16" name="filtro.dataDeCadastroMinimo" value="" />
                                    </div>
                                    <div class="col-md-6 data col-xs-6">
                                        <input class="form-control date-timepicker" type="text" placeholder="Até"
                                            size="16" name="filtro.dataDeCadastroMaximo" value="" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="row">
                                    <label class="col-md-12 col-xs-12" style="font-size: 13px;">
                                        <i class="fa fa-calendar"></i> Atualização
                                    </label>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 data col-xs-6">
                                        <input class="form-control date-timepicker" type="text" placeholder="De"
                                            size="16" name="filtro.dataDeAtualizacaoMinimo" value="" />
                                    </div>
                                    <div class="col-md-6 data col-xs-6">
                                        <input class="form-control date-timepicker" type="text" placeholder="Até"
                                            size="16" name="filtro.dataDeAtualizacaoMaximo" value="" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="row">
                                    <label class="col-md-12 col-xs-12" style="font-size: 13px;">
                                        <i class="fa fa-calendar"></i> Entrega
                                    </label>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 data col-xs-6">
                                        <input class="form-control date-timepicker" type="text" placeholder="De"
                                            size="16" name="filtro.dataDeEntregaMinimo" value="" />
                                    </div>
                                    <div class="col-md-6 data col-xs-6">
                                        <input class="form-control date-timepicker" type="text" placeholder="Até"
                                            size="16" name="filtro.dataDeEntregaMaximo" value="" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group row">
                            <div class="col-md-4">
                                <div class="row">
                                    <label class="col-md-12 col-xs-12" style="font-size: 13px;">
                                        <i class="fa fa-calendar"></i> Fechamento
                                    </label>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 data col-xs-6">
                                        <input class="form-control date-timepicker" type="text" placeholder="De"
                                            size="16" name="filtro.dataDeNegociacaoMinimo" value="" />
                                    </div>
                                    <div class="col-md-6 data col-xs-6">
                                        <input class="form-control date-timepicker" type="text" placeholder="Até"
                                            size="16" name="filtro.dataDeNegociacaoMaximo" value="" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">

                                <div class="row">
                                    <label class="col-md-12 col-xs-12" style="font-size: 13px;">
                                        <i class="fa fa-calendar"></i> Início da Opção
                                    </label>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 data col-xs-6">
                                        <input class="form-control date-timepicker" type="text" placeholder="De"
                                            size="16" name="filtro.dataDeInicioMinimo" value="" />
                                    </div>
                                    <div class="col-md-6 data col-xs-6">
                                        <input class="form-control date-timepicker" type="text" placeholder="Até"
                                            size="16" name="filtro.dataDeInicioMaximo" value="" />
                                    </div>
                                </div>

                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <label class="checkbox col-md-3 col-xs-6">
                                            <input class="ckResetFlag" name="filtro.opcaoVencida" type="checkbox"
                                                id="ckOpcaoVencida" value="true" style="margin-top: 0;" />
                                            <span style="margin-left: 5px; font-size: 13px;">Opção
                                                Vencida</span>
                                        </label>
                                        <label class="checkbox col-md-3 col-xs-6">
                                            <input class="ckResetFlag" name="filtro.podeSerFinanciado" type="checkbox"
                                                id="ckPodeSerFinanciado" value="true" style="margin-top: 0;" />
                                            <span style="margin-left: 5px; font-size: 13px;">Pode Ser
                                                Financiado</span>
                                        </label>
                                        <label class="checkbox col-md-3 col-xs-6 lbCheckPlaca">
                                            <input class="ckResetFlag" name="filtro.comSolicitacaoPlaca" type="checkbox"
                                                id="ckSolicitacaoPlaca" value="true" style="margin-top: 0;" />
                                            <span style="margin-left: 5px; font-size: 13px;">Com Solicitação
                                                de Placa</span>
                                        </label>
                                        <label class="checkbox col-md-3 col-xs-6 lbCheckPlaca">
                                            <input class="ckResetFlag" name="filtro.comPlacaInstalada" type="checkbox"
                                                id="ckPlacaInstalada" value="true" style="margin-top: 0;" />
                                            <span style="margin-left: 5px; font-size: 13px;">Com Placa
                                                Instalada</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <ul style="float: right;">
                    <div class="form-group row col-md-12"></div>
                        <button type="submit" class="btn btn-success ativarPreload">
                            <i class="fa fa-search" aria-hidden="true"></i>
                        </button>
    
                    </div>
                </ul>
            </div>
        </form>

        <script src="https://app.smart.youdigital.com.br/assets/plugins/jquery-1.10.2.min.js"
            type="text/javascript"></script>
        <script src="https://app.smart.youdigital.com.br/assets/plugins/jquery-migrate-1.2.1.min.js"
            type="text/javascript"></script>
        <script>
            function carregarCidades(estado) {
                $.getJSON('https://app.smart.youdigital.com.br/jsonCidades', { 'estado': estado }, function (json) {
                    let options = '';
                    options += '<option value="">-- Selecione a Cidade --</option>';
                    $(json.cidades).each(function (index, cidade) {
                        let token = cidade.lastIndexOf("/");
                        let id = cidade.substring(0, token);
                        let nome = cidade.substring(token + 1, cidade.length);
                        options += '<option value="' + id + '">' + nome + '</option>';
                    });
                    $("#cidades").html(options);
                    setTimeout(function () {
                        ordenarSelect("cidades");
                        selecionarOption("cidades", "");
                        $("#bairros").html('<option value="">-- Selecione o Bairro --</option>');
                    }, 300);
                });
                return false;
            }

            function carregarBairros(cidade) {
                $.getJSON('https://app.smart.youdigital.com.br/jsonBairros', { 'cidade': cidade }, function (json) {
                    var options = '';
                    $(json.bairros).each(function (index, bairro) {
                        var token = bairro.lastIndexOf("/");
                        var id = bairro.substring(0, token);
                        var nome = bairro.substring(token + 1, bairro.length);
                        options += '<option value="' + id + '"">' + nome + '</option>';
                    });
                    $("#bairros").html(options);
                    setTimeout(function () {
                        ordenarSelect("bairros");
                    }, 300);
                    removerJaSelecionados("bairros", "bairrosSelecionados");
                });
                return false;
            }

            jQuery(document).ready(function () {
                setTimeout(function () {


                    let estadoInicial = $("#estados").val();
                    carregarCidades(estadoInicial);



                }, 2000);

                $(".ckOndePesquisar:checked").trigger("click");
                $('#filtroRedeImobiliaria').trigger("change");
                $("#filtroStatusImovel").trigger("change");


            });

            function mostrarOpcoesPortais(status) {
                return (status != '') && (parseInt(status, 10) >= -1);
            }

            $(".radioMarcadoDesmarcado").change(function () {
                if ($("#rdbMarcado").attr('checked') == 'checked') {
                    $("#divSelectTipoAnuncio").removeClass("esconder");
                    selecionarOption("selectTipoAnuncio", "");
                } else {
                    $("#divSelectTipoAnuncio").addClass("esconder");
                }
            });

            $("#filtroPortais").change(function () {
                if (mostrarOpcoesPortais($(this).val())) {
                    $("#divRedeMarcadaDesmarcada").removeClass("esconder");
                    $("#rdbMarcado").attr("checked", true);
                    $("#rdbDesmarcado").attr("checked", false);
                    $("#divSelectTipoAnuncio").removeClass("esconder");

                    $('#selectTipoAnuncio').empty();

                    if ($(this).val() == '-1') {
                        $('#selectTipoAnuncio').append($('<option>', {
                            value: "",
                            text: '-- Tipo de Anúncio --'
                        })).append($('<option>', {
                            value: 0,
                            text: 'Destaque no Site'
                        })).append($('<option>', {
                            value: 1,
                            text: 'Destaque no Banner do Site'
                        }));
                    } else {
                        $('#selectTipoAnuncio').append($('<option>', {
                            value: "",
                            text: '-- Tipo de Anúncio --'
                        })).append($('<option>', {
                            value: 0,
                            text: 'Simples'
                        })).append($('<option>', {
                            value: 1,
                            text: 'Destaque'
                        })).append($('<option>', {
                            value: 2,
                            text: 'Super Destaque'
                        }));
                    }

                } else {
                    $("#divRedeMarcadaDesmarcada").addClass("esconder");
                    $("#divSelectTipoAnuncio").addClass("esconder");
                    $("#rdbMarcado").attr("checked", true);
                    $("#rdbDesmarcado").attr("checked", false);
                }
            });

            $('#btn-filtro-busca-imovel').click(function () {
                let icone = $(this).children("i#iFilterAtivar");

                if (icone.hasClass("fa-filter")) {
                    abrirFiltro(icone);
                } else {
                    $("#filtro-imovel-geral").fadeOut(500);
                    $("#filtro-imovel-avancado").fadeOut(500);

                    icone.removeClass("fa-times").hide();
                    icone.addClass("fa-filter").show();
                    $("i#iFilterAtivado").hide();
                    $(this).addClass("btn-success").removeClass("btn-danger");
                    $(this).css({ color: "#2c2c2c" });
                }
            }).css({
                position: "relative",
                "z-index": "999",
                "text-align": "center",
                width: "55px",
                right: "2px",
                "-webkit-transition": "all 0.6s ease-in",
                "-moz-transition": "all 0.6s ease-in",
                "-o-transition": "all 0.6s ease-in",
                transition: "all 0.6s ease-in"
            });
            $("#filtroStatusImovel").change(function () {
                var status = $(this).val();
                if (status == 'V' || status == 'E' || status == 'I') {
                    $("#divNovosUsuados").show();
                    $("#divTemporada").hide();
                    $("#ckNovos").attr("checked", true);
                    $("#ckUsados").attr("checked", true);
                    $("#ckTemporada").attr("checked", false);


                } else if (status == 'L' || status == 'O' || status == 'A') {
                    $("#divNovosUsuados").hide();
                    $("#divTemporada").show();
                    $("#ckNovos").attr("checked", false);
                    $("#ckUsados").attr("checked", false);
                    $("#ckTemporada").attr("checked", false);
                } else {
                    $("#divNovosUsuados").hide();
                    $("#divTemporada").hide();
                    $("#ckTemporada").attr("checked", false);
                    $("#ckNovos").attr("checked", true);
                    $("#ckUsados").attr("checked", true);


                }
            });
            $("#bairros").live("change", function () {
                return transferirItemSelecionado("bairros", "bairrosSelecionados");
            });
            $("#bairrosSelecionados").live("change", function () {
                return transferirItemSelecionado("bairrosSelecionados", "bairros");
            });
            $('#estados').change(function () {
                let estado = $('#estados').val();
                carregarCidades(estado);
            });
            $('#cidades').change(function () {
                var cidade = $('#cidades').val();
                carregarBairros(cidade);
            });
            $("#formBuscarImoveis").submit(function () {
                selecionarTodos("bairrosSelecionados");
            });

            $('#selectFiltroAvancado').click(function () {
                let iconeFiltroBuscaImovel = $('#btn-filtro-busca-imovel').children("i#iFilterAtivar");
                abrirFiltro(iconeFiltroBuscaImovel);

                $("#filtro-imovel-geral").hide();
                $("#filtro-imovel-avancado").fadeIn(800);
                document.getElementById('selectFiltroAvancado').style.textDecoration = 'underline';
                document.getElementById('selectFiltroGeral').style.textDecoration = '';
            });

            $('#selectFiltroGeral').click(function () {
                let iconeFiltroBuscaImovel = $('#btn-filtro-busca-imovel').children("i#iFilterAtivar");
                abrirFiltro(iconeFiltroBuscaImovel);

                $("#filtro-imovel-avancado").hide();
                $("#filtro-imovel-geral").fadeIn(800);
                document.getElementById('selectFiltroGeral').style.textDecoration = 'underline';
                document.getElementById('selectFiltroAvancado').style.textDecoration = '';
            });

            function abrirFiltro(icone) {
                icone.removeClass("fa-filter").hide();
                icone.addClass("fa-times").show();
                $("i#iFilterAtivado").show();
                $('#btn-filtro-busca-imovel').removeClass("btn-success").addClass("btn-danger");
                $('#btn-filtro-busca-imovel').css({ color: "red" });

                let filtroGeralSelecionado = document.getElementById('selectFiltroGeral').style.textDecoration;
                if (filtroGeralSelecionado == 'underline') {
                    $("#filtro-imovel-geral").fadeIn(800);
                } else {
                    $("#filtro-imovel-avancado").fadeIn(800);
                }
            }
        </script>

    </div>
    </div>
    <!-- END PAGE HEADER-->

    <div class="btnFlutuante ativarPreload"
        onclick="window.location='https://app.smart.youdigital.com.br/imovel/captacaoImovel'"
        style="position: fixed; bottom: 35px; right: 10px; z-index: 9989">
        <span>
            <i class="fa fa-plus"></i><i class="fa fa-home"></i>
        </span>
    </div>



    <div class="btnFlutuante" onclick="window.location = 'https://app.smart.youdigital.com.br/imovel/captacaoImovel'"
        style="position: fixed; bottom: 35px; right: 10px; z-index: 9989">
        <span>
            <i class="fa fa-plus"></i>
        </span>
    </div>


    <!-- BEGIN PAGE CONTENT-->

    <div class="row">
        <div class="col-md-12 md12paddingZero" style="padding-right: 10px !important; padding-left: 10px !important;">
            <ul class="page-breadcrumb breadcrumb breadcrumb-imoveis-total" style="padding-right: 0; margin: 0;">
                <li>
                    <div>
                        <p>114 imóveis encontrados</p>
                    </div>
                </li>

                <li style="float: right;">
                    <div class="dropdown pointer">
                        <i class="fa fa-ellipsis-vertical fa-lg" data-toggle="dropdown" data-hover="dropdown"
                            data-close-others="true" style="font-size: 22px; padding-top: 2px;"></i>
                        <ul class="dropdown-menu dropdown-listagem-imoveis" role="menu" aria-labelledby="dropdownMenu"
                            style="right: 0; left: auto">
                            <li><a tabindex="-1"
                                    alt="Clique para gerar uma planilha do excel com todos os imóveis desta pesquisa."
                                    href="/imovel/gerarPlanilhaExcel">Exportar Imóveis</a></li>
                        </ul>
                    </div>
                </li>

                <li style="float: right;">
                    <form action="https://app.smart.youdigital.com.br/imovel/buscarImoveisPaginado"
                        onsubmit="return obterImoveisOrdenacao(event, this);" method="POST">
                        Ordenar por:
                        <select name="ordenacao" id="ordenacao" title="Ordenação">
                            <option value="">Data Cadastro</option>
                            <option value="PMIN">Preço Menor</option>
                            <option value="PMAX">Preço Maior</option>
                            <option value="AMIN">Área Menor</option>
                            <option value="AMAX">Área Maior</option>
                            <option value="QMIN">Quartos Menor</option>
                            <option value="QMAX">Quartos Maior</option>
                            <option value="BAIRRO_AZ">Bairro A-Z</option>
                            <option value="BAIRRO_ZA">Bairro Z-A</option>
                            <option value="ANUNCIANTE_AZ">Anunciante A-Z</option>
                            <option value="ANUNCIANTE_ZA">Anunciante Z-A</option>
                        </select>
                    </form>
                </li>
            </ul>
        </div>
    </div>


    <div class="row">
        <div class="col-md-12 mobilePaddingZero">
            <div class="tabbable tabbable-custom tabbable-full-width" style="margin-top: -5px; overflow: visible;">
                <div class="tab-content" style="border: none !important;">
                    <div id="tab_1_1" class="tab-pane active">
                        <!-- inicio lista de imoveis -->


                        <div id="lista-div" style="min-width: 200px;">
                            <div id="proxPag" style="display: none;">
                                https://app.smart.youdigital.com.br/imovel/buscarImoveisPaginado
                            </div>
                            <div id="bloco-imoveis-paginado" style="display: none;">

                            </div>
                        </div>
                        <div id="loadingImo" style="text-align: center; display: none;">
                            <img style="margin-top: 20px;"
                                src="https://app.smart.youdigital.com.br/assets/img/ajax-loading.gif"
                                alt="carregando..." />
                        </div>
                        <!--SOLICITAR SMART EMPREENDIMENTO-->
                        <div class="modal fade" id="ajaxSolicitarSmartEmpreendimento" tabindex="-1" role="basic"
                            aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content solicitar-empreendimento-smart"
                                    style="width: 70%; margin: 0 auto;">
                                    <div class="modal-header">
                                        <button type="button" class="close modal-acompanhar" data-dismiss="modal"
                                            aria-hidden="true"></button>
                                        <h4 class="modal-title">Solicitar Inclusão no Smart Empreendimento</h4>
                                    </div>
                                    <div id="bloco-solicitar-smart-empreendimento">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--FIM SOLICITAR SMART EMPREENDIMENTO-->

                        <div class="modal fade" id="ajaxFichaImovel" tabindex="-1" role="basic" aria-hidden="true">

                        </div>



                    </div>
                    <!--end tab-pane-->
                </div>
            </div>
        </div>
        <!--end tabbable-->
    </div>
    <!-- END PAGE CONTENT-->
    </div>


    <div id="modalCadastrarContatoSmartImobiliario" class="modal fade" tabindex="-1" role="basic" aria-hidden="true">
    </div>
    <div id="modalTabelas" class="modal fade" tabindex="-1"></div>
    <div id="modalAddTabelas" class="modal fade" tabindex="-1"></div>
    <div id="modalEditarTabela" class="modal fade" tabindex="-1"></div>
    <div id="modalAddTabelasGrid" class="modal fade" tabindex="-1"></div>
    </div>
    <!-- END CONTAINER -->
    <!-- BEGIN FOOTER -->



    <div class="footer">
        <div class="footer-inner">
            2021 &copy; You Digital.
        </div>
    </div>
    <!-- END FOOTER -->
    <!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->











    <!-- END FOOTER -->
    <!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
    <!-- BEGIN CORE PLUGINS -->
    <!--[if lt IE 9]>
        <script src="https://app.smart.youdigital.com.br/assets/plugins/respond.min.js"></script>
        <script src="https://app.smart.youdigital.com.br/assets/plugins/excanvas.min.js"></script> 
        <![endif]-->

    <script src="https://app.smart.youdigital.com.br/assets/plugins/jquery-1.10.2.min.js"
        type="text/javascript"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/jquery-migrate-1.2.1.min.js"
        type="text/javascript"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap/js/bootstrap.min.js"
        type="text/javascript"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap/js/bootstrap2-typeahead.min.js"
        type="text/javascript"></script>
    <script
        src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-hover-dropdown/twitter-bootstrap-hover-dropdown.min.js"
        type="text/javascript"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/jquery-slimscroll/jquery.slimscroll.min.js"
        type="text/javascript"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/jquery.blockui.min.js"
        type="text/javascript"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/jquery.cookie.min.js"
        type="text/javascript"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/uniform/jquery.uniform.min.js"
        type="text/javascript"></script>
    <!-- END CORE PLUGINS -->


    <!-- BEGIN UI-->
    <script src="https://app.smart.youdigital.com.br/assets/plugins/jquery-ui/jquery-ui-1.10.3.custom.min.js"
        type="text/javascript"></script>
    <!-- END UI-->

    <!-- BEGIN PAGE LEVEL PLUGINS -->
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/fuelux/js/spinner.min.js"></script>
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/ckeditor/ckeditor.js"></script>
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-fileupload/bootstrap-fileupload.js"></script>
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/select2/select2.min.js"></script>
    <!--<script type="text/javascript" src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-wysihtml5/wysihtml5-0.3.0.js"></script> 
<script type="text/javascript" src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-wysihtml5/bootstrap-wysihtml5.js"></script>-->
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script>
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/clockface/js/clockface.js"></script>
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-daterangepicker/moment.min.js"></script>
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js"></script>
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-timepicker/js/bootstrap-timepicker.js"></script>
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/jquery-inputmask/jquery.inputmask.bundle.min.js"></script>
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/jquery.input-ip-address-control-1.0.min.js"></script>
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/jquery-multi-select/js/jquery.multi-select.js"></script>
    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/jquery-multi-select/js/jquery.quicksearch.js"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/jquery.pwstrength.bootstrap/src/pwstrength.js"
        type="text/javascript"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-switch/static/js/bootstrap-switch.min.js"
        type="text/javascript"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/jquery-tags-input/jquery.tagsinput.min.js"
        type="text/javascript"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-markdown/js/bootstrap-markdown.js"
        type="text/javascript"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-markdown/lib/markdown.js"
        type="text/javascript"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-maxlength/bootstrap-maxlength.min.js"
        type="text/javascript"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/bootstrap-touchspin/bootstrap.touchspin.js"
        type="text/javascript"></script>
    <!-- END PAGE LEVEL PLUGINS -->
    <!-- BEGIN PAGE LEVEL SCRIPTS -->
    <script src="https://app.smart.youdigital.com.br/assets/scripts/app.js"></script>
    <script src="https://app.smart.youdigital.com.br/assets/scripts/form-components.js"></script>
    <script type="text/javascript" src="https://app.smart.youdigital.com.br/assets/scripts/preload.js"></script>

    <script src="https://app.smart.youdigital.com.br/assets/plugins/fancybox/source/jquery.fancybox.pack.js"
        type="text/javascript"></script>
    <!--<script src="https://app.smart.youdigital.com.br/assets/plugins/jquery.maskMoney.js" type="text/javascript" ></script>-->
    <!-- END PAGE LEVEL SCRIPTS -->

    <!-- BEGIN popup de avisos-->
    <script src="https://app.smart.youdigital.com.br/assets/plugins/gritter/js/jquery.gritter.min.js"
        type="text/javascript"></script>
    <!-- END popup de avisos-->


    <!-- BEGIN GOOGLE RECAPTCHA -->
    <!--<script type="text/javascript">
    var RecaptchaOptions = {
        theme: 'custom',
        custom_theme_widget: 'recaptcha_widget'
    };
</script>
<script type="text/javascript" src="https://www.google.com/recaptcha/api/challenge?k=6LcrK9cSAAAAALEcjG9gTRPbeA0yAVsKd8sBpFpR"></script>-->
    <!-- END GOOGLE RECAPTCHA -->

    <!-- Start of remaxbrasil Zendesk Widget script -->

    <!-- End of remaxbrasil Zendesk Widget script -->

    <!--MouseFlow-->
    <script type="text/javascript">
        var _mfq = _mfq || [];
        (function () {
            var mf = document.createElement("script");
            mf.type = "text/javascript"; mf.async = true;
            mf.src = "//cdn.mouseflow.com/projects/9ebb2ef9-796c-4573-b8f0-fc496bc10ec2.js";
            document.getElementsByTagName("head")[0].appendChild(mf);
        })();
    </script>
    <!--MouseFlow-->


    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-MNC9GFH');</script>
    <!-- End Google Tag Manager -->




    <script src="https://app.smart.youdigital.com.br/assets/scripts/feeds.js"></script>

    <script type="text/javascript">


        function checkAlertaAtividades(forcarExecucao) {
            $.ajax({
                type: "POST",
                url: "https://app.smart.youdigital.com.br/checkAlertaAtividades",
                data: { executar: forcarExecucao },
                dataType: 'json',
                async: true,
                success: function (json) {
                    let totalAtividadesAtrasadas = json.totalAtividadesAtrasadas;
                    let totalAtividadesHoje = json.totalAtividadesHoje;
                    let totalAtividadesAgendadas = json.totalAtividadesAgendadas;

                    if (totalAtividadesAtrasadas !== undefined) {
                        if ($("#badgeTotalAtividades").length) {
                            $("#badgeTotalAtividades").text((totalAtividadesAtrasadas + totalAtividadesHoje + totalAtividadesAgendadas));
                        }

                        if ($("#spanTotalAtividadesAtrasadas").length) {
                            if (totalAtividadesAtrasadas > 0) {
                                $("#spanTotalAtividadesAtrasadas").html("Você tem <span style=\"font-weight: bold; color: #e02222;\">" + totalAtividadesAtrasadas + "</span> negócio(s) com atividade atrasada <i class=\"m-icon-swapright pull-right\"></i>");
                            } else {
                                $("#spanTotalAtividadesAtrasadas").html("Nenhum negócio com atividade atrasada");
                            }
                        }
                        if ($("#spanTotalAtividadesHoje").length) {
                            if (totalAtividadesHoje > 0) {
                                $("#spanTotalAtividadesHoje").html("Você tem <span style=\"font-weight: bold; color: #16bb6f;\">" + totalAtividadesHoje + "</span> negócio(s) com atividade para hoje <i class=\"m-icon-swapright pull-right\"></i>");
                            } else {
                                $("#spanTotalAtividadesHoje").html("Nenhum negócio com atividade para hoje");
                            }
                        }
                        if ($("#spanTotalAtividadesAgendadas").length) {
                            if (totalAtividadesAgendadas > 0) {
                                $("#spanTotalAtividadesAgendadas").html("Você tem <span style=\"font-weight: bold; color: #0044cc;\">" + totalAtividadesAgendadas + "</span> negócio(s) com atividade agendada <i class=\"m-icon-swapright pull-right\"></i>");
                            } else {
                                $("#spanTotalAtividadesAgendadas").html("Nenhum negócio com atividade agendada");
                            }
                        }
                    }
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    //gerarPopup(errorMessage); // Optional
                }
            });
        }

        function checkLogin() {
            $.getJSON('/checkLogin', function (json) {
                var mensagemRetorno = json.mensagemRetorno;
                if (mensagemRetorno !== null && mensagemRetorno !== undefined) {
                    if (mensagemRetorno === "deslogar") {
                        window.location.href = "/usuario/logout";
                    }
                }
            });
        }

        (function ($) {
            $.fn.posicionarCursorNoFimDoTexto = function () {
                this.focus();
                var $thisVal = this.val();
                this.val('').val($thisVal);
                return this;
            }
        }(jQuery));

        var globalTimeoutSistema;

        jQuery(document).ready(function () {
            $.cookie.defaults = { expires: 360, path: '/' };
            carregarFeedsTopo('https://app.smart.youdigital.com.br', 0);//com '0' verifica-se a ultima data que foi carregado - intervalo 3min
            carregarFeedsTopoRecursivo('https://app.smart.youdigital.com.br');//check de 3 em 3 min

            setTimeout(function () {
                atualizarTotalContatosOnline();
            }, 150000);//2.5min   

            setInterval(function () {
                checkLogin();
            }, 300000);//5min

            checkAlertaAtividades(1);//0 não força a execução e executa de 3 em 3 min

            var isIOS = /iPad|iPhone|iPod/.test(navigator.platform);
            var isAndroid = /(android)/i.test(navigator.userAgent);

            if (!isIOS && !isAndroid) {
                $(document).tooltip({
                    position: {
                        my: "center top",
                        at: "center bottom",
                        using: function (position, feedback) {
                            $(this).css(position);
                            $(this).css("z-index", "9999999");
                            $("<div>")
                                .addClass(feedback.vertical)
                                .addClass(feedback.horizontal)
                                .appendTo(this);
                        }
                    },
                    content: function () {
                        var element = $(this);

                        var title = element.attr("title");
                        if (title.indexOf("<BR/>") != -1) {
                            while (title.indexOf("<BR/>") != -1) {
                                title = title.replace("<BR/>", "<br/>");
                            }
                        }

                        if (title.indexOf("<SPAN/>") != -1) {
                            while (title.indexOf("<SPAN/>") != -1) {
                                title = title.replace("<SPAN/>", "<span/>");
                            }
                        }

                        if (title.indexOf("<SPAN>") != -1) {
                            while (title.indexOf("<SPAN>") != -1) {
                                title = title.replace("<SPAN>", "<span>");
                            }
                        }
                        return title;

                    }
                });
            }

            $("input, select, textarea").focus(function () {



                $(this).attr("style", "border: 1px solid green !important;");


            });

            $("input, select, textarea").blur(function () {
                $(this).attr("style", "border: 1px solid #ccc !important;");
            });

            $(".ativarPreload").click(function () {
                $("#preload").show(100);
            });
            $(".ativarPreloadRelatorio").click(function () {
                $("#preloadRelatorio").show(100);
            });
            $("#preload").hide(100);
            $("#preloadRelatorio").hide(100);

            $(".marcarFeedLido").live("click", function () {
                var idFeed = $(this).attr("rel");
                marcarFeedLido('', idFeed);
                setTimeout(function () {
                    carregarFeedsTopo('', 1);
                }, 1000);

                $("li.dropdown-feeds").trigger("click");
            });

            $(".clickable-row").live("click", function () {
                $("#preload").show();
                window.location = $(this).data("href");
            });

            function showModalBySelector(selectorModal) {
                $(selectorModal).modal("show");
            }

            $(".clickable-row-modal").live("click", function () {
                showModalBySelector($(this).data("href"));
            });

            //        $(".marcarFeedLidoUrl").live("click", function(event){
            //            event.preventDefault();
            //            var idFeed = $(this).attr("rel");
            //            marcarFeedLido(idFeed);
            //            window.location.href = $(this).attr("href");
            //        });

        });

        $(".btnSeguirImovel").live("click", function () {
            var codigoImovel = $(this).attr("id");
            var idEmpresa = $(this).attr("rel");
            $.getJSON('https://app.smart.youdigital.com.br/jsonSeguirImovel', { 'codTipoImovel': codigoImovel, 'idEmpresa': idEmpresa }, function (json) {
                gerarPopup(json.mensagemRetorno);
            });
        });

        $(".btnSeguirEmpreendimento").live("click", function () {
            var idEmpreendimento = $(this).attr("id");
            var idEmpresa = $(this).attr("rel");
            $.getJSON('https://app.smart.youdigital.com.br/jsonSeguirEmpreendimento', { 'idEmp': idEmpreendimento, 'idEmpresa': idEmpresa }, function (json) {
                gerarPopup(json.mensagemRetorno);
                verificarSeguirEmpreendimento(idEmpreendimento);
            });
        });

        $(".btnDeixaDeSeguirEmpreendimento").live("click", function () {
            var idEmpreendimento = $(this).attr("id");
            $.getJSON('https://app.smart.youdigital.com.br/jsonDeixarDeSeguirEmpreendimento', { 'idEmp': idEmpreendimento }, function (json) {
                gerarPopup(json.mensagemRetorno);
                verificarSeguirEmpreendimento(idEmpreendimento);
            });
        });

        function verificarSeguirEmpreendimento(idEmpreendimento) {
            $.ajax({
                type: "POST",
                url: "https://app.smart.youdigital.com.br/jsonVerificarSeguirEmpreendimento",
                data: { idEmp: idEmpreendimento },
                dataType: 'json',
                async: true,
                success: function (jsonRetorno) {
                    if (jsonRetorno.estaSeguindo) {
                        $(".btnDeixaDeSeguirEmpreendimento").show();
                        $(".btnSeguirEmpreendimento").hide();
                    } else {
                        $(".btnDeixaDeSeguirEmpreendimento").hide();
                        $(".btnSeguirEmpreendimento").show();
                    }
                }
            });
        }

        $(".btnConectar").live("click", function () {
            var idEmpresa = $(this).attr("rel");
            $.getJSON('https://app.smart.youdigital.com.br/jsonConectarEmpresas', { 'idEmpresa': idEmpresa }, function (json) {
                gerarPopup(json.mensagemRetorno);
            });
        });

        $(".btnSolicitarConexao").live("click", function () {
            var idEmpresa = $(this).attr("rel");
            $.getJSON('https://app.smart.youdigital.com.br/jsonSolicitarConexaoEmpresas', { 'idEmpresa': idEmpresa }, function (json) {
                gerarPopup(json.mensagemRetorno);
            });
        });

        function gerarPopup(mensagem) {
            setTimeout(function () {
                //gera popup
                $.gritter.add({
                    title: 'Aviso!',
                    text: mensagem,
                    sticky: false,
                    time: '10000'
                });
            }, 200);
        }

        function gerarPopupSemTime(mensagem) {
            setTimeout(function () {
                //gera popup
                $.gritter.add({
                    title: 'Aviso!',
                    text: mensagem,
                    sticky: true,
                    time: '',
                    class_name: 'my-sticky-class'
                });
            }, 200);
        }

        function gerarPopupComTitulo(titulo, mensagem) {
            setTimeout(function () {
                //gera popup
                $.gritter.add({
                    title: titulo,
                    text: mensagem,
                    sticky: false,
                    time: '10000'
                });
            }, 200);
        }

        function gerarPopupSemTimeComTitulo(titulo, mensagem) {
            setTimeout(function () {
                //gera popup
                $.gritter.add({
                    title: titulo,
                    text: mensagem,
                    sticky: true,
                    time: '',
                    class_name: 'my-sticky-class'
                });
            }, 200);
        }

        function gerarPopupErro(mensagem) {
            setTimeout(function () {
                //gera popup
                $.gritter.add({
                    title: 'Erro!',
                    text: mensagem,
                    sticky: false,
                    time: '10000'
                });
            }, 200);
        }

        function gerarPopupSemTimeErro(mensagem) {
            setTimeout(function () {
                //gera popup
                $.gritter.add({
                    title: 'Erro!',
                    text: mensagem,
                    sticky: true,
                    time: '',
                    class_name: 'gritter-light'
                });
            }, 200);
        }

        function gerarPopupErroComTitulo(titulo, mensagem) {
            setTimeout(function () {
                //gera popup
                $.gritter.add({
                    title: 'Erro!',
                    text: mensagem,
                    sticky: false,
                    time: '10000'
                });
            }, 200);
        }

        function gerarPopupSemTimeErroComTitulo(titulo, mensagem) {
            setTimeout(function () {
                //gera popup
                $.gritter.add({
                    title: titulo,
                    text: mensagem,
                    sticky: true,
                    time: '',
                    class_name: 'gritter-light'
                });
            }, 200);
        }

        $.fn.replaceHtml = function (val) {
            var stack = [];
            return this.each(function (i, el) {
                var oldEl = el;
                var newEl = oldEl.cloneNode(false);
                newEl.innerHTML = val;
                oldEl.parentNode.replaceChild(newEl, oldEl);
                stack.push(newEl);
            }).pushStack(stack);
        };

        var divPreload = '<div class="modal-dialog" style="width: 50%;">\n\
                                    <div class="modal-content">\n\
                                        <div class="modal-body">\n\
                                            <div class="table">\n\
                                                <div class="tab-content" style="border: none !important; text-align: center;">\n\
                                                    <div>\n\
                                                        <img src="https://app.smart.youdigital.com.br/assets/img/ajax-loading.gif" alt="carregando..." />\n\
                                                    </div>\n\
                                                    <div id="txt">CARREGANDO...</div>\n\
                                                </div>\n\
                                            </div>\n\
                                        </div>\n\
                                    </div>\n\
                                </div>';

        var preloadSemModal =
            '<div class="modal-dialog" style="width: 50%;">\n\
            <div style="text-align: center;">\n\
                <div>\n\
                    <img src="https://app.smart.youdigital.com.br/assets/img/ajax-loading.gif" alt="carregando..." />\n\
                </div>\n\
                <div id="txt">CARREGANDO...</div>\n\
            </div>\n\
        </div>';

        function carregarAjaxSemModal(link, Destino) {
            $.ajax({
                url: link,
                dataType: 'html',
                async: true,
                beforeSend: function () {
                    $(Destino).replaceHtml(preloadSemModal);
                },
                success: function (retorno) {
                    setTimeout(function () {
                        $(Destino).replaceHtml(retorno);
                    }, 2000);
                }
            });
            return false;
        }

        function carregarAjax(link, Destino) {
            $.ajax({
                url: link, // arquivo requisitado
                dataType: 'html', // tipo do retorno
                async: true,
                beforeSend: function () {
                    $(Destino).html(divPreload);
                },
                success: function (retorno) {
                    $(Destino).html(retorno);

                    if (Destino == '#ajaxAcompanharCliente') {
                        $('#btnCarregarClientesCadastrados').trigger('click');
                    }
                }
            });

            return false;

        }

        //uso: carregarAjaxCallback(link,Destino, function(){ callback(params) });
        function carregarAjaxCallback(link, Destino, callback) {
            $.ajax({
                url: link, // arquivo requisitado
                dataType: 'html',    // tipo do retorno
                async: true,
                beforeSend: function () {
                    $(Destino).html(divPreload);
                },
                success: function (retorno) {
                    $(Destino).replaceHtml(retorno);
                    callback();
                }
            });
        }

        function carregarAjaxReplaceHtml(link, Destino) {
            $.ajax({
                url: link, // arquivo requisitado
                dataType: 'html',    // tipo do retorno
                async: true,
                beforeSend: function () {
                    $(Destino).replaceHtml(divPreload);
                },
                success: function (retorno) {
                    setTimeout(function () { $(Destino).replaceHtml(retorno); }, 2000);
                }
            });

            return false;

        }

        function makeAjaxRequestAndSetLoadingGifOnSelectorThenExecuteCallback({ url, data, callback, selectorOfTagToReplace }) {
            $.ajax({
                url,
                data,
                beforeSend: () => {
                    $(selectorOfTagToReplace).replaceHtml('<div class="modal-dialog" style="width: 50%;">\n\
                                    <div class="modal-content">\n\
                                        <div class="modal-body">\n\
                                            <div class="table">\n\
                                                <div class="tab-content" style="border: none !important; text-align: center;">\n\
                                                    <div>\n\
                                                        <img src="https://app.smart.youdigital.com.br/assets/img/ajax-loading.gif" alt="carregando..." title="carregando..."/>\n\
                                                    </div>\n\
                                                    <div id="txt">CARREGANDO...</div>\n\
                                                </div>\n\
                                            </div>\n\
                                        </div>\n\
                                    </div>\n\
                                </div>'
                    );
                },
                success: callback
            });
        }

        function transferirItemSelecionado(idItemSelecionado, idItemsDestino) {
            var itemSelecionado = $("#" + idItemSelecionado + " option:selected");//item selecionado    
            if (itemSelecionado.val() === "" || itemSelecionado.val() === undefined) {//evitar tranferir item vazio
                itemSelecionado.attr("selected", false);//para evitart o highlight no multiselect
                return;//saindo da função
            }
            var selectDestino = $("#" + idItemsDestino);//select destino
            itemSelecionado.attr("selected", false);//para evitart o highlight no multiselect
            selectDestino.prepend(itemSelecionado);//adicionando item ao select destino
            //ordenarSelect(idItemsDestino);//ordenando select destino
            //removerRepetidos(idItemsDestino);//removendo possíveis itens repetidos no select destino
        }

        function ordenarSelect(id) {
            let selElem = $("#" + id);
            if (selElem !== null) {
                let optionSelecionar = $("#" + id + " option[value='']").remove();
                let tmpAry = new Array();
                //montando o array
                $("#" + id + " option").each(function () {
                    let i = $(this).index();
                    tmpAry[i] = new Array();
                    tmpAry[i][0] = $(this).text();
                    tmpAry[i][1] = $(this).val();
                    tmpAry[i][2] = $(this).attr("rel");
                });
                //ordenando o array
                tmpAry.sort(function (a, b) {
                    return a[0].localeCompare(b[0]);
                });
                //limpando o array
                selElem.html("");
                //populando o array
                for (var i = 0; i < tmpAry.length; i++) {
                    var op = document.createElement('option');
                    op.text = tmpAry[i][0];
                    op.value = tmpAry[i][1];
                    op.rel = tmpAry[i][2];
                    selElem.append(op);
                }
                //populando o primeiro option
                selElem.prepend(optionSelecionar);
            }
            return;
        }

        function replaceCaracteresEspeciais(str) {
            str = str.replace(/[ÀÁÂÃÄÅ]/, "A");
            str = str.replace(/[àáâãäå]/, "a");
            str = str.replace(/[ÈÉÊË]/, "E");
            str = str.replace(/[Ç]/, "C");
            str = str.replace(/[ç]/, "c");
            return str.replace(/[^a-z0-9]/gi, '');
        }

        function validarCodigoImovel(str) {
            if (str.charAt(0) === '-') str = "";
            str = str.replace(/\b_/, "");
            str = str.replace(/__/, "_");
            str = str.replace(/--/, "-");
            return str.replace(/[^a-z0-9_-]/gi, '');
        }

        function replaceCaracteresAcentuados(str) {
            str = str.replace(/[ÀÁÂÃÄÅ]/, "A");
            str = str.replace(/[àáâãäå]/, "a");

            str = str.replace(/[ÈÉÊË]/, "E");
            str = str.replace(/[èéê]/, "e");

            str = str.replace(/[ÌÍÎ]/, "I");
            str = str.replace(/[ìíî]/, "i");

            str = str.replace(/[ÒÓÔ]/, "O");
            str = str.replace(/[òóô]/, "o");

            str = str.replace(/[ÙÚÛ]/, "U");
            str = str.replace(/[ùúû]/, "u");

            str = str.replace(/[Ç]/, "C");
            str = str.replace(/[ç]/, "c");
            return str;
        }

        function removerRepetidos(id) {
            //script para retirar repeticoes no select de imoveis
            var numOptions = $('#' + id + ' option').length;
            var i = 0;
            var j = 0;
            for (i = 0; i <= numOptions; i++) {
                for (j = i + 1; j <= numOptions; j++) {
                    if ($('#' + id + ' option:eq(' + i + ')').val() == $('#' + id + ' option:eq(' + j + ')').val()) {
                        $('#' + id + ' option:eq(' + j + ')').remove();
                    }
                }
            }
        }

        function removerJaSelecionados(id, idSelecionados) {
            //script para retirar repeticoes no select de imoveis
            var numOptions = $('#' + id + ' option').length;
            var numOptionsSelecionados = $('#' + idSelecionados + ' option').length;
            var i = 0;
            var j = 0;
            for (i = 0; i <= numOptions; i++) {
                for (j = 0; j <= numOptionsSelecionados; j++) {
                    if ($('#' + id + ' option:eq(' + i + ')').val() == $('#' + idSelecionados + ' option:eq(' + j + ')').val()) {
                        $('#' + id + ' option:eq(' + i + ')').remove();
                    }
                }
            }
        }

        //seleciona todos os options de um select pelo id repassado
        function selecionarTodos(id) {
            var options = document.getElementById(id);
            if (!!options) {
                var tam = options.length;
                for (var i = 0; i < tam; i++) {
                    options[i].selected = true;
                }
            }
        }

        //seleciona todos os options de um select pelo id repassado
        function selecionarOption(idSelect, valor) {
            var element = document.getElementById(idSelect);
            if (element != null) {
                var options = element.options;
                var tam = options.length;
                for (var i = 0; i < tam; i++) {
                    if (options[i].value === valor) {
                        options[i].selected = true;
                        return false;
                    }
                }
            }
        }

        function selecionarPrimeiroOption(idSelect) {
            var element = document.getElementById(idSelect);
            if (element != null) {
                var options = element.options;
                var tam = options.length;
                if (tam > 0)
                    options[0].selected = true;
            }
        }

        function selecionarUltimoOption(idSelect) {
            var element = document.getElementById(idSelect);
            if (element != null) {
                var options = element.options;
                var tam = options.length;
                if (tam > 0)
                    options[tam - 1].selected = true;
            }
        }

        function validarEmail(email) {
            var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
            if (emailReg.test(email)) {
                return true;
            } else {
                return false;
            }
        }

        function animateMoveToClass(classe) {
            setTimeout(function () {
                var deslocamento = $(classe).offset().top;
                $('html, body').animate({ scrollTop: deslocamento }, 'slow');
            }, 1000);
        }

        function animateMoveToId(id) {
            setTimeout(function () {
                var deslocamento = $(id).offset().top;
                $('html, body').animate({ scrollTop: deslocamento }, 'slow');
            }, 1000);
        }

        function hideModal(idModal) {
            $(idModal).removeClass("in");
            $(".modal-backdrop").remove();
            $(idModal).hide();
        }

        function ativarSmartEmpreendimento(codEmp) {
            var retorno = 0;//false
            $.ajax({
                type: "POST",
                url: "/jsonAtivarSmartEmpreendimento",
                data: { codEmp: codEmp },
                dataType: 'json',
                async: false,
                success: function (json) {
                    if (json.mensagemRetorno === "sucesso") {
                        retorno = 1;//true
                    } else {
                        var msgRetorno = json.mensagemRetorno;
                        if (msgRetorno.indexOf("Não foi possível") != -1) {
                            retorno = 2;//false = Só qnd não for possível ativar o Empreendimento como Smart por causa da cota;
                        } else {
                            gerarPopup(json.mensagemRetorno);
                        }
                    }
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    gerarPopup(errorMessage); // Optional
                }
            });

            return retorno;
        }

        function desativarSmartEmpreendimento(codEmp) {

            var retorno = false;
            $.ajax({
                type: "POST",
                url: "/jsonDesativarSmartEmpreendimento",
                data: { codEmp: codEmp },
                dataType: 'json',
                async: false,
                success: function (json) {
                    if (json.mensagemRetorno === "sucesso") {
                        gerarPopup('Empreendimento ' + codEmp + ' Desativado na Rede Smart Empreendimento');
                        retorno = true;
                    } else {
                        gerarPopup(json.mensagemRetorno);
                    }
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    gerarPopup(errorMessage); // Optional
                }
            });

            return retorno;
        }

        function exportarEmpreendimento(codEmp) {
            $.ajax({
                type: "POST",
                url: "/jsonExportarEmpreendimento",
                data: { codEmp: codEmp },
                dataType: 'json',
                async: true,
                success: function (json) {
                    gerarPopup(json.mensagemRetorno);
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    gerarPopup(errorMessage); // Optional
                }
            });
        }

        function exportarImovel(codImovel) {
            $.ajax({
                type: "POST",
                url: "/jsonExportarImovel",
                data: { codTipoImovel: codImovel },
                dataType: 'json',
                async: true,
                success: function (json) {
                    gerarPopup(json.mensagemRetorno);
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    gerarPopup(errorMessage); // Optional
                }
            });
        }

        function exportarTabelasImovel(codImovel) {
            $.ajax({
                type: "POST",
                url: "/jsonExportarTabelasImovel",
                data: { codTipoImovel: codImovel },
                dataType: 'json',
                async: true,
                success: function (json) {
                    gerarPopup(json.mensagemRetorno);
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    gerarPopup(errorMessage); // Optional
                }
            });
        }

        function exportarTabelasImovelAuto(codImovel) {
            $.ajax({
                type: "POST",
                url: "/jsonExportarTabelasImovelAuto",
                data: { codTipoImovel: codImovel },
                dataType: 'json',
                async: true,
                success: function (json) {
                    gerarPopup(json.mensagemRetorno);
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    gerarPopup(errorMessage); // Optional
                }
            });
        }

        function exportarEmpreendimentoSemTabelas(idEmp) {
            $.ajax({
                type: "POST",
                url: "/jsonExportarEmpreendimentoSemTabelaAndImoveis",
                data: { idEmp: idEmp },
                dataType: 'json',
                async: true,
                success: function (json) {
                    gerarPopup(json.mensagemRetorno);
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    gerarPopup(errorMessage); // Optional
                }
            });
        }

        function exportarEmpreendimento(codEmp) {
            $.ajax({
                type: "POST",
                url: "/jsonExportarEmpreendimento",
                data: { codEmp: codEmp },
                dataType: 'json',
                async: true,
                success: function (json) {
                    gerarPopup(json.mensagemRetorno);
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    gerarPopup(errorMessage); // Optional
                }
            });
        }

        function exportarEmpreendimentoById(idEmp) {
            $.ajax({
                type: "POST",
                url: "/jsonExportarEmpreendimentoById",
                data: { idEmp: idEmp },
                dataType: 'json',
                async: true,
                success: function (json) {
                    gerarPopup(json.mensagemRetorno);
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    gerarPopup(errorMessage); // Optional
                }
            });
        }

        function exportarTabelasEmpreendimento(codEmp) {
            $.ajax({
                type: "POST",
                url: "/jsonExportarTabelasEmpreendimento",
                data: { codEmp: codEmp },
                dataType: 'json',
                async: true,
                success: function (json) {
                    gerarPopup(json.mensagemRetorno);
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    gerarPopup(errorMessage); // Optional
                }
            });
        }

        function atualizarTotalContatosOnline() {
            $.ajax({
                type: "POST",
                url: "/jsonAtualizarTotalContatosOnline",
                dataType: 'json',
                async: true,
                success: function (json) {
                    //gerarPopup(json.mensagemRetorno);
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    //gerarPopup(errorMessage); // Optional
                }
            });
        }

        function atualizarTotalAtendimentosEmAberto() {
            $.ajax({
                type: "POST",
                url: "/jsonAtualizarTotalAtendimentosEmAberto",
                dataType: 'json',
                async: true,
                success: function (json) {
                    //gerarPopup(json.mensagemRetorno);
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    //gerarPopup(errorMessage); // Optional
                }
            });
        }

        function apenasNumeros(string) {
            return string.replace(/[^0-9]/g, '');
        }

        function checkApenasNumeros(element) {
            if (isNaN(element.value)) {
                gerarPopup('Campo numérico!');
                element.value = apenasNumeros(element.value);
                return false;
            } else {
                return true;
            }
        }

        function limparString(entrada) {
            var saida = "";
            for (var i = 0; i < entrada.length; i++) {
                if (entrada.charCodeAt(i) <= 250) {
                    saida += entrada.charAt(i);
                }
            }
            return saida;
        }

        function validarPW(pw) {
            //        var pwRegFull = /^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=!])[a-zA-Z0-9@#$%^&+=!]{8,15}$/;
            //        var pwReg = /^(?=.*[0-9])(?=.*[a-zA-Z])[0-9a-zA-Z@#$%^&+=!]{8,15}$/;
            var pwReg = /^[0-9a-zA-Z@#$%^&+=!]{4,15}$/;
            var msg = "A senha deve conter de 4 a 15 caracteres. Caracteres especiais permitidos (#$%^&+=!)";

            if (!pw.match(pwReg)) {
                gerarPopup(msg);
            }
            return pw.match(pwReg);
        }

        $(".valor, .area, .valorIptu, .valorUnidade, .preco").live("keyup", function () {
            var valor = $(this).val();
            $(this).val(MaskMonetario(valor));
        });

        function MaskMonetario(v) {
            var naoEhDigito = /\D/g;
            while (v.regexIndexOf(naoEhDigito) != -1) {
                v = v.replace(naoEhDigito, "");//Remove tudo o que não é dígito
            }
            v = v.replace(/(\d{2})$/, ",$1"); //Coloca a virgula
            v = v.replace(/(\d+)(\d{3},\d{2})$/g, "$1.$2"); //Coloca o primeiro ponto
            var qtdLoop = (v.length - 3) / 3;
            var count = 0;
            while (qtdLoop > count) {
                count++;
                v = v.replace(/(\d+)(\d{3}.*)/, "$1.$2"); //Coloca o resto dos pontos
            }
            v = v.replace(/^(0)(\d)/g, "$2"); //Coloca hífen entre o quarto e o quinto dígitos
            return v;
        }

        function formataMoeda(valor) {
            valor = valor + '';
            valor = valor.replace(/([0-9]{2})$/g, ",$1");
            if (valor.length > 6)
                return valor.replace(/([0-9]{3}),([0-9]{2}$)/g, ".$1,$2");
            return valor;
        }

        function formatMoney(number, decPlaces, decSep, thouSep) {
            decPlaces = isNaN(decPlaces = Math.abs(decPlaces)) ? 2 : decPlaces,
                decSep = typeof decSep === "undefined" ? "." : decSep;
            thouSep = typeof thouSep === "undefined" ? "," : thouSep;
            var sign = number < 0 ? "-" : "";
            var i = String(parseInt(number = Math.abs(Number(number) || 0).toFixed(decPlaces)));
            var j = (j = i.length) > 3 ? j % 3 : 0;

            return sign +
                (j ? i.substr(0, j) + thouSep : "") +
                i.substr(j).replace(/(\decSep{3})(?=\decSep)/g, "$1" + thouSep) +
                (decPlaces ? decSep + Math.abs(number - i).toFixed(decPlaces).slice(2) : "");
        }

        function eventObjToJson(original) {
            return Object.keys(original).reduce(function (obj, key) {
                obj[key] = typeof original[key] === 'object' ? '{ ... }' : original[key];
                return JSON.stringify(obj);
            }, {});
        }

        function multiplosValoresCheck(name, separador) {
            var valores = '';
            var valoresForm = document.getElementsByName(name);
            for (var i = 0; i < valoresForm.length; i++) {
                if (valoresForm[i].checked) {
                    valores += valoresForm[i].value + separador;
                }
            }
            valores = valores.substring(0, (valores.length - 1));//retirar ultimo separador
            return valores;
        }

        function slideToId(id) {
            $('html, body').animate({ scrollTop: $(id).offset().top - 50 }, 'slow');
        }

        function carregarTotal(url, destino) {
            $.ajax({
                url: url,
                dataType: 'json',
                async: true,
                success: function (retornoJson) {
                    $(destino).text(retornoJson.total);
                }
            });
            return false;
        }

        $(".ckMaxlength").live("change", function () {
            var $this = $(this);
            var max = $this.attr("maxlength");
            if ($this.is("input")) {
                var tamAtual = $this.val();
                //console.log("tamAtual input "+tamAtual.length);
                if (tamAtual > Number(max)) {
                    $this.val($this.val().substring(0, 1999));
                }
            } else if ($this.is("textarea")) {
                var tamAtual = $this.text();
                //console.log("tamAtual textarea: "+tamAtual.length);
                if (tamAtual > Number(max)) {
                    $this.text($this.text().substring(0, 1999));
                }
            }
        });

        $(".navbar-toggle").click(function () {
            window.scrollTo(0, 0);
        });

        String.prototype.regexIndexOf = function (regex, startpos) {
            var indexOf = this.substring(startpos || 0).search(regex);
            return (indexOf >= 0) ? (indexOf + (startpos || 0)) : indexOf;
        };

        String.prototype.regexLastIndexOf = function (regex, startpos) {
            regex = (regex.global) ? regex : new RegExp(regex.source, "g" + (regex.ignoreCase ? "i" : "") + (regex.multiLine ? "m" : ""));
            if (typeof (startpos) == "undefined") {
                startpos = this.length;
            } else if (startpos < 0) {
                startpos = 0;
            }
            var stringToWorkWith = this.substring(0, startpos + 1);
            var lastIndexOf = -1;
            var nextStop = 0;
            while ((result = regex.exec(stringToWorkWith)) != null) {
                lastIndexOf = result.index;
                regex.lastIndex = ++nextStop;
            }
            return lastIndexOf;
        };

        function setValorInput(identificadorDoElemento, valor) {
            $(identificadorDoElemento).val(valor);
        }

        function setTextoElement(identificadorDoElemento, valor) {
            $(identificadorDoElemento).text(valor);
        }

        function salvarContato(id, tipo) {
            $.ajax({
                type: "POST",
                url: "jsonSalvarContato",
                data: { id: id, tipo: tipo },
                dataType: 'json',
                async: true,
                success: function (json) {
                    console.log(json.mensagemRetorno);
                    //gerarPopup(json.mensagemRetorno);
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    //gerarPopup(errorMessage);
                    console.log(errorMessage);
                }
            });
            return false;
        }

        function enviarWhatsapp(numerowhatsapp, texto) {
            if (numerowhatsapp == "") {
                gerarPopup("Preencha o campo whatsapp.");
                $("#whatsapp").focus();
            } else {
                numerowhatsapp = apenasNumeros(numerowhatsapp);
                if (numerowhatsapp.length <= 11) numerowhatsapp = 55 + numerowhatsapp;
                var urlWPP = null;
                if (texto != null && texto.length > 0) {
                    urlWPP = encodeURI('https://api.whatsapp.com/send?phone=' + numerowhatsapp + "&text=" + texto);
                } else {
                    urlWPP = encodeURI('https://api.whatsapp.com/send?phone=' + numerowhatsapp);
                }

                var win = window.open(urlWPP, '_blank');
                if (win) {
                    //Browser has allowed it to be opened
                    win.focus();
                } else {
                    //Browser has blocked it
                    gerarPopup('Por favor libere os popups para este site.');
                }
            }
        }

        function validarTelefone(fone) {
            var regexTel = /^\([0-9]{2}\)9\d{8}|\d{10}|\([0-9]{2}\)\d{8}|\([0-9]{2}\) \d{8}|\([0-9]{2}\) 9\d{8}|\([0-9]{2}\) 9\d{4}-\d{4}|\([0-9]{2}\)9\d{4}-\d{4}|\((?:1[2-9]|[2-9]\d)\)[5-9]\d{3}-\d{4}$/;
            return (fone !== "" && regexTel.test(fone));
        }

        function base64ToBlob(base64, mime) {
            mime = mime || '';
            var sliceSize = 1024;
            var byteChars = window.atob(base64);
            var byteArrays = [];

            for (var offset = 0, len = byteChars.length; offset < len; offset += sliceSize) {
                var slice = byteChars.slice(offset, offset + sliceSize);

                var byteNumbers = new Array(slice.length);
                for (var i = 0; i < slice.length; i++) {
                    byteNumbers[i] = slice.charCodeAt(i);
                }

                var byteArray = new Uint8Array(byteNumbers);

                byteArrays.push(byteArray);
            }

            return new Blob(byteArrays, { type: mime });
        }

        function getElementById(id) {
            return document.getElementById(id);
        }

        function rotateImage(image, realImage, angle) {
            let dpr = window.devicePixelRatio || 1;
            let w = realImage.width;
            let h = realImage.height;
            let canvas = document.createElement("canvas");
            canvas.width = h * dpr;
            canvas.height = w * dpr;
            let ctx = canvas.getContext("2d");
            ctx.scale(dpr, dpr);
            ctx.translate(h, 0);
            ctx.rotate((angle * Math.PI) / 180);
            ctx.drawImage(realImage, 0, 0, w, h);
            ctx.save();
            let base64data = canvas.toDataURL('image/jpeg');
            image.src = base64data;
            return base64data;
        }

    </script>
    <!-- END JAVASCRIPTS -->

    <script type="text/javascript"
        src="https://app.smart.youdigital.com.br/assets/plugins/jquery.maskedinput-master/src/jquery.maskedinput.js"></script>
    <script src="https://app.smart.youdigital.com.br/assets/plugins/bootbox/bootbox.min.js"
        type="text/javascript"></script>
    <!-- END JAVASCRIPTS -->
    <script>
        var semaforo = true;
        var posicaoAtual;
        var documentSize;
        var windowSize;
        var globalTimeout = null;

        jQuery(document).ready(function () {

            // initiate layout and plugins
            App.init();



            posicaoAtual = $(window).scrollTop();
            documentSize = $(document).height();
            windowSize = $(window).height();

            $(window).scroll(function () {
                posicaoAtual = $(window).scrollTop() + 500;
                if (posicaoAtual >= (documentSize - windowSize) && semaforo) {
                    obterImoveis();
                }
            });

            $(".date-timepicker").datetimepicker({
                autoclose: true,
                format: "dd-mm-yyyy hh:mm",
                orientation: "auto",
                keyboardNavigation: true
            });


            $("body").bind("touchmove touchstart", function () {
                posicaoAtual = $(window).scrollTop() + 1000;
                if (posicaoAtual >= (documentSize - windowSize) && semaforo) {
                    obterImoveis();
                }
            });

            //atualiza variaveis
            $(document).resize(function () {
                posicaoAtual = $(window).scrollTop();
                documentSize = $(document).height();
                windowSize = $(window).height();
            });

            $(".btn-carregar-ficha").live("click", function () {
                var url = $(this).attr("rel");
                setTimeout(function () {
                    $("#ajaxFichaImovel").text("");
                    carregarAjax(url, '#ajaxFichaImovel');
                    return false;
                }, 1000);
            });

            $("#closeFicha").live("click", function () {
                $("#ajaxFichaImovel").modal("hide");
                $('body').removeClass('modal-open');
                $('.modal-backdrop').remove();
            });

            $("#btn-add-linha").live("click", function () {
                var numColunas = $("#grid tbody tr:first td").length;
                var tr = $("<tr>");

                var tdExcluir = $("<td>");
                var iExcluir = $("<i>");
                iExcluir.addClass("fa fa-times removerLinha");
                iExcluir.title = "Remover esta linha  →";
                tdExcluir.append(iExcluir);
                tr.append(tdExcluir);

                var td;
                var input;
                for (var i = 0; i < (numColunas - 1); i++) {
                    td = $("<td>");
                    input = $("<input>");

                    td.append(input);
                    tr.append(td);
                }
                $("#grid tbody").append(tr);
            });

            $(".adicionarLinha").live("click", function () {
                var trAtual = $(this).parent().parent();
                //var indice = $("#grid tbody tr").index(trAtual);
                var numColunas = $("#grid tbody tr:first td").length;
                var tr = $("<tr>");

                var tdExcluir = $("<td>");
                var iExcluir = $("<i>");
                iExcluir.addClass("fa fa-times removerLinha");
                iExcluir.css("color", "red");
                //iExcluir.title = "Remover esta linha  →";//→ = alt+26
                iExcluir.attr("title", "Remover esta linha  →");
                tdExcluir.append(iExcluir);
                tr.append(tdExcluir);

                var tdAdicionar = $("<td>");
                var iAdicionar = $("<i>");
                iAdicionar.addClass("fa fa-plus adicionarLinha");
                iAdicionar.css("cssText", "color: green; cursor: pointer;");
                //iAdicionar.title = "Adicionar linha abaixo ↓";//↓ = alt+25
                iAdicionar.attr("title", "Adicionar linha abaixo ↓");
                tdAdicionar.append(iAdicionar);
                tr.append(tdAdicionar);

                var td;
                var input;
                for (var i = 0; i < (numColunas - 2); i++) {
                    td = $("<td>");
                    input = $("<input>");

                    td.append(input);
                    tr.append(td);
                }
                trAtual.after(tr);
            });

            $("#tipo_acompanhamento").live("change", function () {
                var valSelecionado = $(this).val();

                $("#detalhe_acompanhamento").val($("#tipo_acompanhamento option:selected").text());
                if (valSelecionado === '0') {
                    $("#blocoProposta").text("").hide();
                    $("#blocoVisita").text("").hide();
                } else if (valSelecionado === '1') {
                    $("#blocoProposta").text("").hide();
                    $("#blocoVisita").show();
                    $("#blocoVisita").html('<div class="col-md-6 col-sm-6 col-xs-12">' +
                        '<input style="height: 40px; margin-bottom: 5px;" tabindex="2" id="dataAgendamento" type="text" class="form-control date-picker" rel="Data do agendamento" name="strDataAgendamento" placeholder="Data do agendamento">' +
                        '</div>' +
                        '<div class="col-md-6 col-sm-6 col-xs-12">' +
                        '<input style="height: 40px; margin-bottom: 5px;" tabindex="3" id="horaAgendamento" type="text" class="form-control time-picker" rel="Hora do agendamento" name="strHoraAgendamento" placeholder="Hora do agendamento">' +
                        '</div>');
                    $(".date-picker").trigger("click");
                    $(".time-picker").trigger("click");
                    $(".date-picker").mask("99/99/9999");
                    $(".time-picker").mask("99:99");
                } else if (valSelecionado === '2') {
                    $("#blocoProposta").show();
                    $("#blocoProposta").html('<div class="col-md-12 col-sm-12 col-xs-12 centralizar">' +
                        '<input style="height: 40px; margin-bottom: 5px;" tabindex="2" id="valorProposta" type="text" class="form-control valor" name="strValorProposta"  placeholder="Valor da Proposta">' +
                        '</div>');
                    $("#blocoVisita").text("").hide();
                }
            });

            $(".date-picker").live("click", function () {
                $(".date-picker").datepicker({
                    startView: 'day',
                    format: "dd/mm/yyyy",
                    autoclose: true,
                    keyboardNavigation: true
                });
            });

            $(".time-picker").live("click", function () {
                $(".time-picker").datetimepicker({
                    format: 'hh:ii',
                    autoclose: true,
                    startView: 1,
                    maxView: 1,
                    language: "pt-BR",
                    pickDate: false
                });
            });

            $("#btn-add-coluna").live("click", function () {
                $("#grid thead tr").each(function () {
                    var thExcluir = $("<th>");
                    var iExcluir = $("<i>");
                    iExcluir.addClass("fa fa-times removerColuna");
                    iExcluir.title = "Remover esta coluna  ↓";
                    thExcluir.append(iExcluir);

                    $(this).append(thExcluir);
                });

                $("#grid tbody tr").each(function () {
                    var td = $("<td>");
                    var input = $("<input>");
                    td.append(input);

                    $(this).append(td);
                });
            });

            $(".adicionarColuna").live("click", function () {
                var thAtual = $(this).parent();
                $("#grid thead tr").each(function () {
                    var thExcluir = $("<th>");
                    var iExcluir = $("<i>");
                    var iAdicionar = $("<i>");
                    iExcluir.addClass("fa fa-times removerColuna");
                    iExcluir.css("cssText", "color: red; width: 50% !important;");
                    //iExcluir.title = "Remover esta coluna  ↓";
                    iExcluir.attr("title", "Remover esta coluna  ↓");
                    thExcluir.append(iExcluir);
                    iAdicionar.addClass("fa fa-plus adicionarColuna");
                    //iAdicionar.title = "Adicionar coluna à direita  →";
                    iAdicionar.attr("title", "Adicionar coluna à direita  →");
                    iAdicionar.css("cssText", "color: green; width: 50% !important; border-left: 1px solid #dddddd;");
                    thExcluir.append(iAdicionar);

                    thAtual.after(thExcluir);
                });

                var indice = $("#grid thead tr th").index(thAtual);

                $("#grid tbody tr").each(function () {
                    var td = $("<td>");
                    var input = $("<input>");
                    td.append(input);

                    $(this).find("td:nth-child(" + (indice + 1) + ")").after(td);
                });
            });

            $("#btn-add-linha-edt").live("click", function () {
                var numColunas = $("#grid-edt tbody tr:first td").length;
                var tr = $("<tr>");

                var tdExcluir = $("<td>");
                var iExcluir = $("<i>");
                iExcluir.addClass("fa fa-times removerLinhaEdt");
                iExcluir.title = "Remover esta linha  →";
                tdExcluir.append(iExcluir);
                tr.append(tdExcluir);

                var td;
                var input;
                for (var i = 0; i < (numColunas - 1); i++) {
                    td = $("<td>");
                    input = $("<input>");

                    td.append(input);
                    tr.append(td);
                }
                $("#grid-edt tbody").append(tr);
            });

            $(".adicionarLinhaEdt").live("click", function () {
                var trAtual = $(this).parent().parent();
                //var indice = $("#grid tbody tr").index(trAtual);
                var numColunas = $("#grid-edt tbody tr:first td").length;
                var tr = $("<tr>");

                var tdExcluir = $("<td>");
                var iExcluir = $("<i>");
                iExcluir.addClass("fa fa-times removerLinhaEdt");
                iExcluir.css("color", "red");
                //iExcluir.title = "Remover esta linha  →";
                iExcluir.attr("title", "Remover esta linha  →");
                tdExcluir.append(iExcluir);
                tr.append(tdExcluir);

                var tdAdicionar = $("<td>");
                var iAdicionar = $("<i>");
                iAdicionar.addClass("fa fa-plus adicionarLinhaEdt");
                iAdicionar.css("cssText", "color: green; cursor: pointer;");
                //iAdicionar.title = "Adiconar linha abaixo ↓";//↓ = alt+25
                iAdicionar.attr("title", "Adiconar linha abaixo ↓");
                tdAdicionar.append(iAdicionar);
                tr.append(tdAdicionar);

                var td;
                var input;
                for (var i = 0; i < (numColunas - 2); i++) {
                    td = $("<td>");
                    input = $("<input>");

                    td.append(input);
                    tr.append(td);
                }

                trAtual.after(tr);
            });

            $("#btn-add-coluna-edt").live("click", function () {
                $("#grid-edt thead tr").each(function () {
                    var thExcluir = $("<th>");
                    var iExcluir = $("<i>");
                    iExcluir.addClass("fa fa-times removerColunaEdt");
                    iExcluir.title = "Remover esta coluna  ↓";
                    thExcluir.append(iExcluir);

                    $(this).append(thExcluir);
                });

                $("#grid-edt tbody tr").each(function () {
                    var td = $("<td>");
                    var input = $("<input>");
                    td.append(input);

                    $(this).append(td);
                });
            });

            $(".adicionarColunaEdt").live("click", function () {
                var thAtual = $(this).parent();
                $("#grid-edt thead tr").each(function () {
                    var thExcluir = $("<th>");
                    var iExcluir = $("<i>");
                    var iAdicionar = $("<i>");
                    iExcluir.addClass("fa fa-times removerColunaEdt");
                    iExcluir.css("cssText", "color: red; width: 50% !important;");
                    //iExcluir.title = "Remover esta coluna  ↓";
                    iExcluir.attr("title", "Remover esta coluna  ↓");
                    thExcluir.append(iExcluir);
                    iAdicionar.addClass("fa fa-plus adicionarColunaEdt");
                    iAdicionar.css("cssText", "color: green; cursor: pointer; width: 50% !important; border-left: 1px solid #dddddd;");
                    //iAdicionar.title = "Adicionar coluna à direita  →";
                    iAdicionar.attr("title", "Adicionar coluna à direita  →");
                    thExcluir.append(iAdicionar);
                    thAtual.after(thExcluir);
                });

                var indice = $("#grid-edt thead tr th").index(thAtual);
                $("#grid-edt tbody tr").each(function () {
                    var td = $("<td>");
                    var input = $("<input>");
                    td.append(input);
                    $(this).find("td:nth-child(" + (indice + 1) + ")").after(td);
                });
            });

            $("#btnModalAddTabelasGrid").live("click", function () {
                $("#box-grid").html(
                    '<table class="table table-striped table-hover table-bordered" id="grid">' +
                    '<thead>' +
                    '<tr>' +
                    '<th></th>' +
                    '<th></th>' +
                    '<th><i class="fa fa-plus adicionarColuna" title="Adicionar coluna à direita  →" style="color: green; cursor: pointer;"></i></th>' +
                    '</tr>' +
                    '</thead>' +
                    '<tbody>' +
                    '<tr>' +
                    '<td></td>' +
                    '<td><i class="fa fa-plus adicionarLinha" title="Adicionar linha abaixo ↓" style="color: green; cursor: pointer;"></i></td>' +
                    '<td>Unidades <input type="hidden" name="" value="1" /></td>' +
                    '</tr>' +
                    '</tbody>' +
                    '</table>'
                );
            });

            $("#btnSalvarTabelaPrecoGrid").live("click", function () {
                gerarTabelaGridToString();

                $("#preload").show();
                var flag = true;

                $("#formCadastrarTabelaPrecoGrid .campo-obrigatorio").each(function () {
                    if ($(this).val() === "") {
                        gerarPopup($(this).attr("rel"));
                        $(this).focus();
                        flag = false;
                    }
                });

                if (flag) {
                    // Criaremos um formulário
                    var form = $("form[name='formCadastrarTabelaPrecoGrid']")[0];
                    var formData = new FormData(form);

                    $.ajax({
                        url: "https://app.smart.youdigital.com.br/imovel/salvarTabelaPrecoGrid",
                        type: "POST",
                        data: formData,
                        cache: false,
                        async: true,
                        contentType: false,
                        processData: false,
                        success: function (response) {
                            setTimeout(function () {
                                $("#portletTabelas").html(response);
                                $("#preload").hide(100);
                                $("#btnFecharTabelaPrecoGrid").trigger("click");
                                gerarPopup("Tabela Grid salva com sucesso!");
                            }, 500);
                        },
                        error: function (jqXHR, textStatus, errorMessage) {
                            setTimeout(function () {
                                $("#preload").hide(100);
                            }, 500);
                            console.log(errorMessage); // Optional
                        }
                    });
                } else {
                    console.log("A tabela Grid não foi salva, compo obrigatório não preenchido...");
                    setTimeout(function () {
                        $("#preload").hide(100);
                    }, 500);
                }
            });

            $("#btnEditarTabelaPrecoGrid").live("click", function () {
                gerarTabelaGridToStringEdt();

                $("#preload").show();
                var flag = true;

                $("#formEditarTabelaPrecoGrid .campo-obrigatorio").each(function () {
                    if ($(this).val() === "") {
                        gerarPopup($(this).attr("rel"));
                        $(this).focus();
                        flag = false;
                    }
                });

                if (flag) {
                    // Criaremos um formulário
                    var form = $("form[name='formEditarTabelaPrecoGrid']")[0];
                    var formData = new FormData(form);

                    $.ajax({
                        url: "https://app.smart.youdigital.com.br/imovel/editarTabelaPrecoGrid",
                        type: "POST",
                        data: formData,
                        cache: false,
                        async: true,
                        contentType: false,
                        processData: false,
                        success: function (response) {
                            setTimeout(function () {
                                $("#portletTabelas").html(response);
                                $("#preload").hide(100);
                                $("#btnFecharTabelaPrecoGridEdt").trigger("click");
                                gerarPopup("Tabela Grid alterada com sucesso!");
                            }, 500);
                        },
                        error: function (jqXHR, textStatus, errorMessage) {
                            setTimeout(function () {
                                $("#preload").hide(100);
                            }, 500);
                            console.log(errorMessage); // Optional
                        }
                    });
                } else {
                    console.log("A tabela Grid não foi alterada, compo obrigatório não preenchido...");
                    setTimeout(function () {
                        $("#preload").hide(100);
                    }, 500);
                }
            });

            function gerarTabelaGridToString() {
                var DELIMITADOR_LINHA = "&";
                var DELIMITADOR_COLUNA = "@";
                var numColunas = $("#grid tbody tr:first td").length;
                var numLinhas = $("#grid tbody tr").length;

                var tbl = $("#grid");
                var tabelaStr = "";
                var linhaStr = "";
                for (var i = 0; i < numLinhas; i++) {
                    if (i == 0) {
                        linhaStr = "#";
                    } else {
                        linhaStr = "";
                    }
                    for (var j = 2; j < numColunas; j++) {
                        linhaStr = linhaStr + $('tr:eq(' + (i + 1) + ') td:eq(' + j + ') input', tbl).val() + DELIMITADOR_COLUNA;
                    }
                    tabelaStr = tabelaStr + linhaStr + DELIMITADOR_LINHA;
                }
                tabelaStr = tabelaStr + "#~";

                $("#numeroLinhas").val(numLinhas);
                $("#numeroColunas").val((numColunas - 2));
                $("#stringTabela").val(tabelaStr);
            }

            function gerarTabelaGridToStringEdt() {
                var DELIMITADOR_LINHA = "&";
                var DELIMITADOR_COLUNA = "@";
                var numColunas = $("#grid-edt tbody tr:first td").length;
                var numLinhas = $("#grid-edt tbody tr").length;

                var tbl = $("#grid-edt");
                var tabelaStr = "";
                var linhaStr = "";
                for (var i = 0; i < numLinhas; i++) {
                    if (i == 0) {
                        linhaStr = "#";
                    } else {
                        linhaStr = "";
                    }
                    for (var j = 2; j < numColunas; j++) {
                        linhaStr = linhaStr + $('tr:eq(' + (i + 1) + ') td:eq(' + j + ') input', tbl).val() + DELIMITADOR_COLUNA;
                    }
                    tabelaStr = tabelaStr + linhaStr + DELIMITADOR_LINHA;
                }
                tabelaStr = tabelaStr + "#~";

                $("#numeroLinhasEdt").val(numLinhas);
                $("#numeroColunasEdt").val((numColunas - 2));
                $("#stringTabelaEdt").val(tabelaStr);
            }

            $(".removerLinhaEdt").live("click", function () {
                $(this).parent().parent().remove();
            });

            var camposEdt;
            var campos;

            $(".removerColunaEdt").live("click", function (event) {
                camposEdt = $(".removerColunaEdt");
                camposEdt = [].slice.apply(camposEdt);

                var indice = camposEdt.indexOf(event.target) + 3;
                $("#grid-edt tr").find('th:eq(' + indice + '),td:eq(' + indice + ')').remove();

                camposEdt = [].slice.apply(camposEdt);
            });

            $(".removerLinha").live("click", function () {
                $(this).parent().parent().remove();
            });

            $(".removerColuna").live("click", function (event) {
                campos = $(".removerColuna");
                campos = [].slice.apply(campos);

                var indice = campos.indexOf(event.target) + 3;
                $("#grid tr").find('th:eq(' + indice + '),td:eq(' + indice + ')').remove();

                campos = [].slice.apply(campos);
            });

            obterImoveis();
        });

        $("#btn-enviar-contato").live("click", function () {
            $("#preload").show();

            var enviar = true;
            var campo = "";
            var idForm = "#formCadastrarContatoSmartImobiliario";
            $(idForm).find(".campo-obrigatorio").each(function () {
                if ($(this).val() == "") {
                    enviar = false;
                    campo = $(this).attr("rel");
                    return false;
                }
            });

            if (enviar) {
                var action = "https://app.smart.youdigital.com.br/atendimento/cadastrarContatoSmartImobiliario";
                var nameForm = "form[name='formCadastrarContatoSmartImobiliario']";
                var form = $(nameForm)[0];

                var formData = new FormData(form);

                $.ajax({
                    url: action,
                    type: "POST",
                    data: formData,
                    cache: false,
                    async: true,
                    contentType: false,
                    processData: false,
                    success: function (response) {
                        $("#preload").hide();
                        $("#btn-fechar-enviar-contato").trigger("click");
                        gerarPopup("Contato Enviado!");
                    },
                    error: function (jqXHR, textStatus, errorMessage) {
                        $("#preload").hide();
                        console.log(errorMessage); // Optional
                        gerarPopup("Falha no envio do Contato!");
                    }
                });
            } else {
                gerarPopup("O campo " + campo + " é obrigatório!");
                $("#preload").hide();
            }
        });

        $("#btn-enviar-contato-empreendimento").live("click", function () {
            $("#preload").show();

            var enviar = true;
            var campo = "";
            var idForm = "#formCadastrarContatoLeadEmpreendimento";
            $(idForm).find(".campo-obrigatorio").each(function () {
                if ($(this).val() == "") {
                    enviar = false;
                    campo = $(this).attr("rel");
                    return false;
                }
            });

            if (enviar) {
                var action = "https://app.smart.youdigital.com.br/atendimento/cadastrarContatoLeadEmpreendimento";
                var nameForm = "form[name='formCadastrarContatoLeadEmpreendimento']";
                var form = $(nameForm)[0];

                var formData = new FormData(form);

                $.ajax({
                    url: action,
                    type: "POST",
                    data: formData,
                    cache: false,
                    async: true,
                    contentType: false,
                    processData: false,
                    success: function (response) {
                        $("#preload").hide();
                        $("#btn-fechar-enviar-contato").trigger("click");
                        gerarPopup("Contato Enviado!");
                    },
                    error: function (jqXHR, textStatus, errorMessage) {
                        $("#preload").hide();
                        console.log(errorMessage); // Optional
                        gerarPopup("Falha no envio do Contato!");
                    }
                });
            } else {
                gerarPopup("O campo " + campo + " é obrigatório!");
                $("#preload").hide();
            }
        });

        $(".btnFecharModalListaTabelas").live("click", function () {
            $("#modalTabelasRO").modal("hide");
        });

        function fecharRemoverTabela(id) {
            $(id).modal("hide");
        }

        $(".btnDesativarTabela").live("click", function () {
            var btn = $(this);
            var codTabela = $(this).attr("rel");
            var codImovel = $(this).attr("id");
            var url = "https://app.smart.youdigital.com.br/imovel/desativarTabela?codigoTabelaPreco=" + codTabela;
            $.ajax({
                url: url,
                dataType: 'html',
                async: true,
                success: function (retorno) {
                    btn.removeClass("green-stripe btnDesativarTabela").addClass("red-stripe btnPublicarTabela");
                    btn.attr("title", "Publicar Tabela");
                    $(".tdTabelaPublicada" + codTabela).text("Não");
                    exportarTabelasImovel(codImovel);
                },
                error: function (retorno) {
                    gerarPopup("erro ao desativar tabela!");
                }
            });
        });

        $(".btnPublicarTabela").live("click", function () {
            var btn = $(this);
            var codTabela = $(this).attr("rel");
            var codImovel = $(this).attr("id");
            var url = "https://app.smart.youdigital.com.br/imovel/publicarTabela?codigoTabelaPreco=" + codTabela;
            $.ajax({
                url: url,
                dataType: 'html',
                async: true,
                success: function (retorno) {
                    btn.removeClass("red-stripe btnPublicarTabela").addClass("green-stripe btnDesativarTabela");
                    btn.attr("title", "Desativar Tabela");
                    $(".tdTabelaPublicada" + codTabela).text("Sim");
                    exportarTabelasImovel(codImovel);
                },
                error: function (retorno) {
                    gerarPopup("erro ao publicar tabela!");
                }
            });
        });

        $("#ordenacao").change(function () {
            $(this).parent("form").submit();
        });

        function confirmarAcompanhamento(idImovel, statusImovel) {
            bootbox.confirm(
                "Este imóvel está com status <b>" + statusImovel + "</b>, deseja continuar?",
                function (result) {
                    if (result === true) {
                        window.location.href =
                            "/cliente/novoNegocio?idImovel=" + idImovel;
                    }
                }
            );
        }

        $("#btn-solicitar-smart-empreendimento").live("click", function () {
            $("#preload").show(100);

            var idEmpreendimento = $(this).attr("rel");
            var action = 'https://app.smart.youdigital.com.br/empreendimento/enviarSolicitacaoEmpreendimentoSmart?idEmpreendimento=' + idEmpreendimento;

            $.ajax({
                url: action, // arquivo requisitado
                dataType: 'html',    // tipo do retorno
                async: true,
                cache: false,
                success: function (response) {
                    $("#btn-fechar-solicitar-smart-empreendimento").trigger("click");
                    $("#preload").hide(100);
                    gerarPopup("Solicitação enviada!");
                },
                error: function (jqXHR, textStatus, errorMessage) {
                    gerarPopup("Ocorreu uma falha ao enviar a Solicitação! " + errorMessage);
                    $("#preload").hide(100);
                    console.log(errorMessage); // Optional
                }
            });
        });

        var loading = $("#loadingImo");

        function obterImoveisOrdenacao(event, element) {
            event.preventDefault();
            let form = $(element);
            let url = form.attr("action");
            let dados = form.serialize();
            $.ajax({
                url: url,
                data: dados,
                dataType: 'html',
                async: true,
                success: function (retorno) {
                    let listaImoveis = $("#lista-div");
                    listaImoveis.text("");
                    listaImoveis.append(
                        "<div id=\"proxPag\" style=\"display: none;\">" +
                        "/imovel/buscarImoveisPaginado" +
                        "</div>"
                    );
                    listaImoveis.append("<div id=\"bloco-imoveis-paginado\" style=\"display: none;\"></div>");
                    let divBlocoImoveis = $("#bloco-imoveis-paginado");
                    divBlocoImoveis.html(retorno);
                    divBlocoImoveis.show("slow");
                    divBlocoImoveis.removeAttr("id");
                    posicaoAtual = $(window).scrollTop();
                    documentSize = $(document).height();
                    windowSize = $(window).height();
                },
                error: function (retorno) {
                    loading.hide();
                }
            });
            return false;
        }

        function obterImoveis() {
            var proxPag = $("#proxPag").text();
            if (proxPag !== null && proxPag !== "" && semaforo) {
                semaforo = false;
                loading.show();
                $.ajax({
                    url: proxPag, // arquivo requisitado
                    dataType: 'html',    // tipo do retorno
                    async: true,
                    success: function (retorno) {
                        let divBlocoImoveis = $("#bloco-imoveis-paginado");
                        semaforo = true;
                        divBlocoImoveis.html(retorno);
                        loading.hide();
                        divBlocoImoveis.show("slow");
                        divBlocoImoveis.removeAttr("id");
                        posicaoAtual = $(window).scrollTop();
                        documentSize = $(document).height();
                        windowSize = $(window).height();
                    },
                    error: function (retorno) {
                        semaforo = true;
                        loading.hide();
                    }
                });

                return false;
            }
        }

        function excluirImovel(codigoImovel, idImovel, isEmpreendimento) {
            let title = "Confirmar Exclusão do Imóvel " + codigoImovel;
            if (isEmpreendimento) title = "Confirmar Exclusão do Imóvel " + codigoImovel + " deste empreendimento";

            bootbox.dialog({
                message: "Você quer realmente marcar este imóvel como excluído?",
                title: title,
                buttons: {
                    success: {
                        label: "Sim",
                        className: "green",
                        callback: function () {
                            console.log("efetuando Exclusão.");
                            $("#preload").show();
                            window.location = "https://app.smart.youdigital.com.br/imovel/excluirImovel?idImovel=" + idImovel
                        }
                    },
                    danger: {
                        label: "Não",
                        className: "red",
                        callback: function () {
                            console.log("cancelando Exclusão.");
                        }
                    }
                }
            });
        }

        function carregarCompletometro(codImovel, idImovel, idEmpresa) {
            $.getJSON(
                'https://app.smart.youdigital.com.br/jsonCompletometro',
                { 'id': idImovel, 'idEmpresa': idEmpresa },
                function (json) {
                    if (json.mensagemRetorno === "sucesso") {
                        var completometro = json.completometro;
                        $(".completometro-" + idImovel).text(completometro);

                        $(".progress-bar-completometro-" + idImovel).removeClass("progress-bar-success");
                        $(".progress-bar-completometro-" + idImovel).removeClass("progress-bar-info");
                        $(".progress-bar-completometro-" + idImovel).removeClass("progress-bar-warning");
                        $(".progress-bar-completometro-" + idImovel).addClass("progress-bar-danger");

                        if (Number(completometro) > 75) {
                            $(".progress-bar-completometro-" + idImovel).addClass("progress-bar-success");
                            $(".progress-bar-completometro-" + idImovel).removeClass("progress-bar-info");
                            $(".progress-bar-completometro-" + idImovel).removeClass("progress-bar-warning");
                            $(".progress-bar-completometro-" + idImovel).removeClass("progress-bar-danger");
                        } else if (Number(completometro) > 50) {
                            $(".progress-bar-completometro-" + idImovel).removeClass("progress-bar-success");
                            $(".progress-bar-completometro-" + idImovel).addClass("progress-bar-info");
                            $(".progress-bar-completometro-" + idImovel).removeClass("progress-bar-warning");
                            $(".progress-bar-completometro-" + idImovel).removeClass("progress-bar-danger");
                        } else if (Number(completometro) > 25) {
                            $(".progress-bar-completometro-" + idImovel).removeClass("progress-bar-success");
                            $(".progress-bar-completometro-" + idImovel).removeClass("progress-bar-info");
                            $(".progress-bar-completometro-" + idImovel).addClass("progress-bar-warning");
                            $(".progress-bar-completometro-" + idImovel).removeClass("progress-bar-danger");
                        }

                        $(".progress-bar-completometro-" + idImovel).attr("aria-valuenow", completometro);
                        $(".progress-bar-completometro-" + idImovel).css("width", completometro + "%");

                        if (json.alertaCompletometro.length > 0) {
                            $(".progress-bar-completometro-" + idImovel).parent().attr("title", json.alertaCompletometro);
                        }
                    } else {
                        console.log(json.mensagemRetorno);
                    }
                }
            );
        }
    </script>

</body>
<!-- END BODY -->

</html>